{"version":3,"sources":["zombie/util/input.cljs"],"mappings":";AAEA,kDAAA,lDAAMA,4GAAgCC,OAAWC;AAAjD,AACE,IAAMC,OAAK,AAAwBF;AAAnC,AAAA,kDAAA,+GAAA,hEACM,CAAG,CAAG,CAAG,AAAWC,oBACX,AAAQC,aACX,AAASF,gBACZ,AAASE,4DACZ,CAAG,CAAG,CAAG,AAAWD,oBACX,AAAOC,YACV,AAAUF,iBACb,AAAUE;;AAErB,8CAAA,6DAAAC,3GAAMI,oGAA+BP;AAArC,AAAA,IAAAI,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;QAAA,AAAAE,4CAAAF,eAAA,/DAAoDI;QAApD,AAAAF,4CAAAF,eAAA,/DAAsDK;AAAtD,AAAA,kDAAA,kFAAA,nCACM,8BAAA,7BAAG,sBAAA,rBAAG,CAAGD,IAAE,AAASR,4EAGpB,gCAAA,/BAAG,uBAAA,tBAAG,CAAGS,IAAE,AAAUT;;AAI3B,kCAAA,lCAAMU,4EAAgBC;AAAtB,AAAA,kDAAA,uDAAA,wDAAA,hEAEM,AAAKA,wDACL,AAAKA,uDACL,AAAKA","names":["zombie.util.input/mouse-evt->canvas-position","canvas","mouse-evt","rect","p__10773","map__10774","cljs.core/--destructure-map","cljs.core.get","zombie.util.input/normalize-screen-position","x","y","zombie.util.input/point->map","point"],"sourcesContent":["(ns zombie.util.input)\r\n\r\n(defn mouse-evt->canvas-position [^js canvas ^js mouse-evt]\r\n  (let [rect (.getBoundingClientRect canvas)]\r\n    {:x (/ (* (- (.-clientX mouse-evt)\r\n                 (.-left rect))\r\n              (.-width canvas))\r\n           (.-width rect))\r\n     :y (/ (* (- (.-clientY mouse-evt)\r\n                 (.-top rect))\r\n              (.-height canvas))\r\n           (.-height rect))}))\r\n\r\n(defn normalize-screen-position [^js canvas {:keys [x y]}]\r\n  {:x (- (* (/ x (.-width canvas))\r\n            2)\r\n         1)\r\n   :y (+ (* (/ y (.-height canvas))\r\n            -2)\r\n         1)})\r\n\r\n(defn point->map [^js point]\r\n  ;; WARNING: js->clj does not work for this\r\n  {:x (.-x point)\r\n   :y (.-y point)\r\n   :z (.-z point)})\r\n"]}