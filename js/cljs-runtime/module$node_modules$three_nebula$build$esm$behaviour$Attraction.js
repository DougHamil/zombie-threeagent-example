shadow$provide.module$node_modules$three_nebula$build$esm$behaviour$Attraction=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _constants=require("module$node_modules$three_nebula$build$esm$behaviour$constants");global=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("module$node_modules$three_nebula$build$esm$behaviour$Behaviour"));var _math=require("module$node_modules$three_nebula$build$esm$math$index"),
_ease=require("module$node_modules$three_nebula$build$esm$ease$index"),_types=require("module$node_modules$three_nebula$build$esm$behaviour$types");class Attraction extends global.default{constructor(targetPosition=new _math.Vector3D,force=_constants.DEFAULT_ATTRACTION_FORCE_SCALAR,radius=_constants.DEFAULT_ATTRACITON_RADIUS,life=_constants.DEFAULT_LIFE,easing=_constants.DEFAULT_BEHAVIOUR_EASING,isEnabled=!0){super(life,easing,_types.BEHAVIOUR_TYPE_ATTRACTION,isEnabled);this.targetPosition=targetPosition;
this.radius=radius;this.force=this.normalizeValue(force);this.radiusSq=this.radius*this.radius;this.attractionForce=new _math.Vector3D;this.lengthSq=0}reset(targetPosition=new _math.Vector3D,force=_constants.DEFAULT_ATTRACTION_FORCE_SCALAR,radius=_constants.DEFAULT_ATTRACITON_RADIUS,life,easing){this.targetPosition=targetPosition;this.radius=radius;this.force=this.normalizeValue(force);this.radiusSq=this.radius*this.radius;this.attractionForce=new _math.Vector3D;this.lengthSq=0;life&&super.reset(life,
easing)}mutate(particle,time,index){this.energize(particle,time,index);this.attractionForce.copy(this.targetPosition);this.attractionForce.sub(particle.position);this.lengthSq=this.attractionForce.lengthSq();this.lengthSq>_constants.PARTICLE_LENGTH_SQ_THRESHOLD&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.scalar(1-this.lengthSq/this.radiusSq),this.attractionForce.scalar(this.force),particle.acceleration.add(this.attractionForce))}static fromJSON(json){const {x,
y,z,force,radius,life,easing,isEnabled=!0}=json;return new Attraction(new _math.Vector3D(x,y,z),force,radius,life,(0,_ease.getEasingByName)(easing),isEnabled)}}exports.default=Attraction}
//# sourceMappingURL=module$node_modules$three_nebula$build$esm$behaviour$Attraction.js.map
