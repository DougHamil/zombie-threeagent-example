shadow$provide.module$node_modules$three_nebula$build$esm$emitter$FollowEmitter=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;global=_interopRequireDefault(require("module$node_modules$three_nebula$build$esm$emitter$Emitter"));var _THREEUtil=_interopRequireDefault(require("module$node_modules$three_nebula$build$esm$utils$THREEUtil")),_Util=_interopRequireDefault(require("module$node_modules$three_nebula$build$esm$utils$Util")),
_types=require("module$node_modules$three_nebula$build$esm$emitter$types");class FollowEmitter extends global.default{constructor(mouseTarget,ease,pObj){super(pObj);this.type=_types.EMITTER_TYPE_FOLLOW;this.mouseTarget=_Util.default.initValue(mouseTarget,window);this.ease=_Util.default.initValue(ease,.7);this._allowEmitting=!1;this.initEventHandler()}initEventHandler(){var self=this;this.mousemoveHandler=function(e){self.mousemove.call(self,e)};this.mousedownHandler=function(e){self.mousedown.call(self,
e)};this.mouseupHandler=function(e){self.mouseup.call(self,e)};this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}emit(){this._allowEmitting=!0}stopEmit(){this._allowEmitting=!1}setCameraAndCanvas(camera,canvas){this.camera=camera;this.canvas=canvas}mousemove(e){if(e.layerX||0==e.layerX)this.position.x+=(e.layerX-this.position.x)*this.ease,this.position.y+=(e.layerY-this.position.y)*this.ease;else if(e.offsetX||0==e.offsetX)this.position.x+=(e.offsetX-this.position.x)*this.ease,
this.position.y+=(e.offsetY-this.position.y)*this.ease;this.position.copy(_THREEUtil.default.toSpacePos(this.position,this.camera,this.canvas));this._allowEmitting&&super.emit("once")}destroy(){super.destroy();this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}exports.default=FollowEmitter}
//# sourceMappingURL=module$node_modules$three_nebula$build$esm$emitter$FollowEmitter.js.map
