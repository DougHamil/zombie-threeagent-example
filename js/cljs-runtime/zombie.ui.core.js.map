{"version":3,"sources":["zombie/ui/core.cljs"],"mappings":";AAOA,sBAAA,tBAAOA;AAAP,AAAA,0FAAA,mDAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,oDAAA,IAAA,qDAAA,IAAA,0EAAA,OAAA,8DAAA,6dAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,oDAAA,IAAA,qDAAA,IAAA,8DAAA,+YAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,oDAAA,IAAA,qDAAA,IAAA,8DAAA,xtDAMI,uUAAA,AAAA,gHAAA,rbAAM,6CAAA,qDAAA,AAAAC,lGAACC,kHAAS,gDAAA,mFAAA,nIAACC,oBAASC,kRACvBC,qgBAIH,kBAAA,AAAAJ,mOAAA,AAAA,oHAAA,vUAAO,8CAAA,mFAAA,jIAACE,oBAASG,kRACdC,ygBAIH,kBAAA,AAAAN,gOAAA,AAAA,mFAAA,mDAAA,2CAAA,jYAAO,8CAAA,mFAAA,jIAACE,oBAASG,gaACH,WAAKE;AAAL,AACE,oBAAMA;AAAN,AACE,OAAcA,eAAG,AAAA,kHAAA,AAAAP,gBAAwBK;;AAD3C;;mBAFhB;;AAKJ,6BAAA,7BAAOG,kEAAaC;AAApB,AACE,IAAAC,WAAM,AAAYD;AAAlB,AAAA,QAAAC;KAAA;AAEE,qGAAA,9FAACC,mDAAMN,0BAAMO,wFAAsBC;;;;AAFrC;;;;AAMF,4BAAA,5BAAMC;AAAN,AACE,IAAMP,KAAG,wBAAA,xBAACQ;AAAV,AACE,0BAAA,1BAAmBC,qCAAuBR;;AAC1C,wDAAA,jDAACS,oIAAalB,4BAAMQ","names":["zombie.ui.core/root","cljs.core/deref","cljs.core._EQ_","reagent.core/cursor","zombie.state.databases/game","zombie.ui.hud/render","zombie.state.databases/ui","zombie.ui.console/render","el","zombie.ui.core/on-keypress","evt","G__13426","cljs.core.swap_BANG_","cljs.core/update","cljs.core/not","zombie.ui.core/init!","js/document.getElementById","js/document","reagent.dom.render"],"sourcesContent":["(ns zombie.ui.core\r\n  (:require [reagent.core :as r]\r\n            [reagent.dom :as rdom]\r\n            [zombie.ui.hud :as hud]\r\n            [zombie.ui.console :as console]\r\n            [zombie.state.databases :as db]))\r\n\r\n(defn- root []\r\n  [:div\r\n   [:div {:style {:top \"0\"\r\n                  :left \"0\"\r\n                  :pointer-events \"none\"\r\n                  :position \"fixed\"}}\r\n    (when (= :game @(r/cursor db/game [:active-view]))\r\n      [hud/render])]\r\n   [:div {:style {:top \"0\"\r\n                  :left \"0\"\r\n                  :position \"fixed\"}}\r\n    (when @(r/cursor db/ui [:show-console?])\r\n      [console/render])]\r\n   [:div {:style {:top \"0\"\r\n                  :left \"0\"\r\n                  :position \"fixed\"}}\r\n    (when @(r/cursor db/ui [:show-debug?])\r\n      [:div {:ref (fn [el]\r\n                    (when el\r\n                      (.appendChild el (:physics-debug-canvas @db/ui))))}])]])\r\n\r\n(defn- on-keypress [evt]\r\n  (case (.-charCode evt)\r\n    96\r\n    (swap! db/ui update :show-console? not)\r\n\r\n    :else))\r\n\r\n(defn init! []\r\n  (let [el (js/document.getElementById \"ui-root\")]\r\n    (.addEventListener js/document \"keypress\" on-keypress)\r\n    (rdom/render [root] el)))\r\n  \r\n"]}