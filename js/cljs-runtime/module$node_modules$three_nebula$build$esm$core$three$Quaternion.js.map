{
"version":3,
"file":"module$node_modules$three_nebula$build$esm$core$three$Quaternion.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/three-nebula/build/esm/core/three/Quaternion.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three_nebula$build$esm$core$three$Quaternion\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Quaternion = Quaternion;\n\nvar _Math2 = require(\"./Math.js\");\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\nfunction Quaternion(x, y, z, w) {\n  this._x = x || 0;\n  this._y = y || 0;\n  this._z = z || 0;\n  this._w = w !== undefined ? w : 1;\n}\n\nObject.assign(Quaternion, {\n  slerp: function (qa, qb, qm, t) {\n    return qm.copy(qa).slerp(qb, t);\n  },\n  slerpFlat: function (dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n    // fuzz-free, array-based Quaternion SLERP operation\n    var x0 = src0[srcOffset0 + 0],\n        y0 = src0[srcOffset0 + 1],\n        z0 = src0[srcOffset0 + 2],\n        w0 = src0[srcOffset0 + 3],\n        x1 = src1[srcOffset1 + 0],\n        y1 = src1[srcOffset1 + 1],\n        z1 = src1[srcOffset1 + 2],\n        w1 = src1[srcOffset1 + 3];\n\n    if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n      var s = 1 - t,\n          cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n          dir = cos >= 0 ? 1 : -1,\n          sqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:\n\n      if (sqrSin > Number.EPSILON) {\n        var sin = Math.sqrt(sqrSin),\n            len = Math.atan2(sin, cos * dir);\n        s = Math.sin(s * len) / sin;\n        t = Math.sin(t * len) / sin;\n      }\n\n      var tDir = t * dir;\n      x0 = x0 * s + x1 * tDir;\n      y0 = y0 * s + y1 * tDir;\n      z0 = z0 * s + z1 * tDir;\n      w0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:\n\n      if (s === 1 - t) {\n        var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n        x0 *= f;\n        y0 *= f;\n        z0 *= f;\n        w0 *= f;\n      }\n    }\n\n    dst[dstOffset] = x0;\n    dst[dstOffset + 1] = y0;\n    dst[dstOffset + 2] = z0;\n    dst[dstOffset + 3] = w0;\n  }\n});\nObject.defineProperties(Quaternion.prototype, {\n  x: {\n    get: function () {\n      return this._x;\n    },\n    set: function (value) {\n      this._x = value;\n\n      this._onChangeCallback();\n    }\n  },\n  y: {\n    get: function () {\n      return this._y;\n    },\n    set: function (value) {\n      this._y = value;\n\n      this._onChangeCallback();\n    }\n  },\n  z: {\n    get: function () {\n      return this._z;\n    },\n    set: function (value) {\n      this._z = value;\n\n      this._onChangeCallback();\n    }\n  },\n  w: {\n    get: function () {\n      return this._w;\n    },\n    set: function (value) {\n      this._w = value;\n\n      this._onChangeCallback();\n    }\n  }\n});\nObject.assign(Quaternion.prototype, {\n  isQuaternion: true,\n  set: function (x, y, z, w) {\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._w = w;\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  clone: function () {\n    return new this.constructor(this._x, this._y, this._z, this._w);\n  },\n  copy: function (quaternion) {\n    this._x = quaternion.x;\n    this._y = quaternion.y;\n    this._z = quaternion.z;\n    this._w = quaternion.w;\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  setFromEuler: function (euler, update) {\n    if (!(euler && euler.isEuler)) {\n      throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n    }\n\n    var x = euler._x,\n        y = euler._y,\n        z = euler._z,\n        order = euler.order; // http://www.mathworks.com/matlabcentral/fileexchange/\n    // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n    //\tcontent/SpinCalc.m\n\n    var cos = Math.cos;\n    var sin = Math.sin;\n    var c1 = cos(x / 2);\n    var c2 = cos(y / 2);\n    var c3 = cos(z / 2);\n    var s1 = sin(x / 2);\n    var s2 = sin(y / 2);\n    var s3 = sin(z / 2);\n\n    if (order === 'XYZ') {\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n    } else if (order === 'YXZ') {\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n    } else if (order === 'ZXY') {\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n    } else if (order === 'ZYX') {\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n    } else if (order === 'YZX') {\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n    } else if (order === 'XZY') {\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n    }\n\n    if (update !== false) this._onChangeCallback();\n    return this;\n  },\n  setFromAxisAngle: function (axis, angle) {\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n    // assumes axis is normalized\n    var halfAngle = angle / 2,\n        s = Math.sin(halfAngle);\n    this._x = axis.x * s;\n    this._y = axis.y * s;\n    this._z = axis.z * s;\n    this._w = Math.cos(halfAngle);\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  setFromRotationMatrix: function (m) {\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n    var te = m.elements,\n        m11 = te[0],\n        m12 = te[4],\n        m13 = te[8],\n        m21 = te[1],\n        m22 = te[5],\n        m23 = te[9],\n        m31 = te[2],\n        m32 = te[6],\n        m33 = te[10],\n        trace = m11 + m22 + m33,\n        s;\n\n    if (trace > 0) {\n      s = 0.5 / Math.sqrt(trace + 1.0);\n      this._w = 0.25 / s;\n      this._x = (m32 - m23) * s;\n      this._y = (m13 - m31) * s;\n      this._z = (m21 - m12) * s;\n    } else if (m11 > m22 && m11 > m33) {\n      s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n      this._w = (m32 - m23) / s;\n      this._x = 0.25 * s;\n      this._y = (m12 + m21) / s;\n      this._z = (m13 + m31) / s;\n    } else if (m22 > m33) {\n      s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n      this._w = (m13 - m31) / s;\n      this._x = (m12 + m21) / s;\n      this._y = 0.25 * s;\n      this._z = (m23 + m32) / s;\n    } else {\n      s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n      this._w = (m21 - m12) / s;\n      this._x = (m13 + m31) / s;\n      this._y = (m23 + m32) / s;\n      this._z = 0.25 * s;\n    }\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  setFromUnitVectors: function (vFrom, vTo) {\n    // assumes direction vectors vFrom and vTo are normalized\n    var EPS = 0.000001;\n    var r = vFrom.dot(vTo) + 1;\n\n    if (r < EPS) {\n      r = 0;\n\n      if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n        this._x = -vFrom.y;\n        this._y = vFrom.x;\n        this._z = 0;\n        this._w = r;\n      } else {\n        this._x = 0;\n        this._y = -vFrom.z;\n        this._z = vFrom.y;\n        this._w = r;\n      }\n    } else {\n      // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n      this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n      this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n      this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n      this._w = r;\n    }\n\n    return this.normalize();\n  },\n  angleTo: function (q) {\n    return 2 * Math.acos(Math.abs(_Math2._Math.clamp(this.dot(q), -1, 1)));\n  },\n  rotateTowards: function (q, step) {\n    var angle = this.angleTo(q);\n    if (angle === 0) return this;\n    var t = Math.min(1, step / angle);\n    this.slerp(q, t);\n    return this;\n  },\n  inverse: function () {\n    // quaternion is assumed to have unit length\n    return this.conjugate();\n  },\n  conjugate: function () {\n    this._x *= -1;\n    this._y *= -1;\n    this._z *= -1;\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  dot: function (v) {\n    return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n  },\n  lengthSq: function () {\n    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n  },\n  length: function () {\n    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n  },\n  normalize: function () {\n    var l = this.length();\n\n    if (l === 0) {\n      this._x = 0;\n      this._y = 0;\n      this._z = 0;\n      this._w = 1;\n    } else {\n      l = 1 / l;\n      this._x = this._x * l;\n      this._y = this._y * l;\n      this._z = this._z * l;\n      this._w = this._w * l;\n    }\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  multiply: function (q, p) {\n    if (p !== undefined) {\n      console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n      return this.multiplyQuaternions(q, p);\n    }\n\n    return this.multiplyQuaternions(this, q);\n  },\n  premultiply: function (q) {\n    return this.multiplyQuaternions(q, this);\n  },\n  multiplyQuaternions: function (a, b) {\n    // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n    var qax = a._x,\n        qay = a._y,\n        qaz = a._z,\n        qaw = a._w;\n    var qbx = b._x,\n        qby = b._y,\n        qbz = b._z,\n        qbw = b._w;\n    this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n    this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n    this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n    this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  slerp: function (qb, t) {\n    if (t === 0) return this;\n    if (t === 1) return this.copy(qb);\n    var x = this._x,\n        y = this._y,\n        z = this._z,\n        w = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n    var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n    if (cosHalfTheta < 0) {\n      this._w = -qb._w;\n      this._x = -qb._x;\n      this._y = -qb._y;\n      this._z = -qb._z;\n      cosHalfTheta = -cosHalfTheta;\n    } else {\n      this.copy(qb);\n    }\n\n    if (cosHalfTheta >= 1.0) {\n      this._w = w;\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      return this;\n    }\n\n    var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n    if (sqrSinHalfTheta <= Number.EPSILON) {\n      var s = 1 - t;\n      this._w = s * w + t * this._w;\n      this._x = s * x + t * this._x;\n      this._y = s * y + t * this._y;\n      this._z = s * z + t * this._z;\n      this.normalize();\n\n      this._onChangeCallback();\n\n      return this;\n    }\n\n    var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n    var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n    var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n        ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n    this._w = w * ratioA + this._w * ratioB;\n    this._x = x * ratioA + this._x * ratioB;\n    this._y = y * ratioA + this._y * ratioB;\n    this._z = z * ratioA + this._z * ratioB;\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  equals: function (quaternion) {\n    return quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;\n  },\n  fromArray: function (array, offset) {\n    if (offset === undefined) offset = 0;\n    this._x = array[offset];\n    this._y = array[offset + 1];\n    this._z = array[offset + 2];\n    this._w = array[offset + 3];\n\n    this._onChangeCallback();\n\n    return this;\n  },\n  toArray: function (array, offset) {\n    if (array === undefined) array = [];\n    if (offset === undefined) offset = 0;\n    array[offset] = this._x;\n    array[offset + 1] = this._y;\n    array[offset + 2] = this._z;\n    array[offset + 3] = this._w;\n    return array;\n  },\n  _onChange: function (callback) {\n    this._onChangeCallback = callback;\n    return this;\n  },\n  _onChangeCallback: function () {}\n});\n};"],
"names":["shadow$provide","global","require","module","exports","Quaternion","x","y","z","w","_x","_y","_z","_w","undefined","Object","defineProperty","value","_Math2","assign","slerp","qa","qb","qm","t","copy","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","s","cos","dir","sqrSin","Number","EPSILON","sin","Math","sqrt","len","atan2","tDir","f","defineProperties","prototype","get","set","_onChangeCallback","isQuaternion","clone","constructor","quaternion","setFromEuler","euler","update","isEuler","Error","order","c1","c2","c3","s1","s2","s3","setFromAxisAngle","axis","angle","halfAngle","setFromRotationMatrix","m","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","r","dot","EPS","abs","normalize","angleTo","q","acos","_Math","clamp","rotateTowards","step","min","inverse","conjugate","v","lengthSq","length","l","multiply","p","console","warn","multiplyQuaternions","premultiply","a","b","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","equals","fromArray","array","offset","toArray","_onChange","callback"]
}
