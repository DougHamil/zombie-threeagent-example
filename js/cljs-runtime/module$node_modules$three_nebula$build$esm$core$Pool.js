shadow$provide.module$node_modules$three_nebula$build$esm$core$Pool=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _PUID=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("module$node_modules$three_nebula$build$esm$utils$PUID")),_types=require("module$node_modules$three_nebula$build$esm$core$types");class Pool{constructor(){this.type=_types.CORE_TYPE_POOL;this.cID=0;this.list={}}create(functionOrObject,...constructorArgs){if(!this.canCreateNewObject(functionOrObject))throw Error("The pool is unable to create or clone the object supplied");
this.cID++;if(this.canInstantiateObject(functionOrObject))return new functionOrObject(...constructorArgs);if(this.canCloneObject(functionOrObject))return functionOrObject.clone()}canInstantiateObject(object){return"function"===typeof object}canCloneObject(object){return object.clone&&"function"===typeof object.clone}canCreateNewObject(object){return this.canInstantiateObject(object)||this.canCloneObject(object)?!0:!1}getCount(){var count=0,id;for(id in this.list)count+=this.list[id].length;return count++}get(obj,
...args){var puid=obj.__puid||_PUID.default.id(obj);args=this.list[puid]&&0<this.list[puid].length?this.list[puid].pop():this.create(obj,...args);args.__puid=obj.__puid||puid;return args}expire(obj){return this._getList(obj.__puid).push(obj)}destroy(){for(var id in this.list)this.list[id].length=0,delete this.list[id]}_getList(uid){uid=uid||"default";this.list[uid]||(this.list[uid]=[]);return this.list[uid]}}exports.default=Pool}
//# sourceMappingURL=module$node_modules$three_nebula$build$esm$core$Pool.js.map
