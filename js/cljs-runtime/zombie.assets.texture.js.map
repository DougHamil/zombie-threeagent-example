{"version":3,"sources":["zombie/assets/texture.cljs"],"mappings":";;AAGA,AAAeA,6CAAqB,KAAAC;AAEpC,+BAAA,/BAAMC,sEAAQC,KAAKC,KAAKC;AAAxB,AACE,YAAAC,QAAa,WAAKC,QAAQC;AAAb,AACG,OAAOR,gDAAqBI,KACtB,WAAKK;AAAL,AACE,CAAM,AAASA,UAAGC;;AAClB,CAAM,AAASD,UAAGC;;AAClB,CAAM,AAAaD,cAAGE;;AACtB,gBAAA,fAAM,AAAcF;;AACpB,IAAAG,2BAAe,AAAA,sFAASP;AAAxB,AAAA,oBAAAO;AAAA,AAAA,gBAAAA,ZAAWC;AAAX,AACE,CAAM,AAAUJ,WAAG,AAACK,qBAAQD;;AAD9B;;AAEA,QAACN,wCAAAA,2CAAAA,LAAQE,uBAAAA","names":["zombie.assets.texture/three-texture-loader","js/module$node_modules$three$build$three_module.TextureLoader","zombie.assets.texture/loader","_key","path","cfg","js/Promise","resolve","_","t","js/module$node_modules$three$build$three_module.RepeatWrapping","js/module$node_modules$three$build$three_module.NearestFilter","temp__5753__auto__","rpt","cljs.core/clj->js"],"sourcesContent":["(ns zombie.assets.texture\r\n  (:require [\"three\" :as three]))\r\n\r\n(def ^:private three-texture-loader (three/TextureLoader.))\r\n\r\n(defn loader [_key path cfg]\r\n  (js/Promise. (fn [resolve _]\r\n                  (.load three-texture-loader path\r\n                        (fn [t]\r\n                          (set! (.-wrapS t) three/RepeatWrapping)\r\n                          (set! (.-wrapT t) three/RepeatWrapping)\r\n                          (set! (.-magFilter t) three/NearestFilter)\r\n                          (set! (.-anisotropy t) 4)\r\n                          (when-let [rpt (:repeat cfg)]\r\n                            (set! (.-repeat t) (clj->js rpt)))\r\n                          (resolve t))))))\r\n"]}