{
"version":3,
"file":"module$node_modules$three$examples$jsm$loaders$GLTFLoader.js",
"lineCount":121,
"mappings":"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",
"sources":["node_modules/three/examples/jsm/loaders/GLTFLoader.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$examples$jsm$loaders$GLTFLoader\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GLTFLoader = void 0;\n\nvar _three = require(\"three\");\n\nclass GLTFLoader extends _three.Loader {\n  constructor(manager) {\n    super(manager);\n    this.dracoLoader = null;\n    this.ktx2Loader = null;\n    this.meshoptDecoder = null;\n    this.pluginCallbacks = [];\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    let resourcePath;\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath;\n    } else if (this.path !== '') {\n      resourcePath = this.path;\n    } else {\n      resourcePath = _three.LoaderUtils.extractUrlBase(url);\n    } // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n    this.manager.itemStart(url);\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e);\n      } else {\n        console.error(e);\n      }\n\n      scope.manager.itemError(url);\n      scope.manager.itemEnd(url);\n    };\n\n    const loader = new _three.FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (data) {\n      try {\n        scope.parse(data, resourcePath, function (gltf) {\n          onLoad(gltf);\n          scope.manager.itemEnd(url);\n        }, _onError);\n      } catch (e) {\n        _onError(e);\n      }\n    }, onProgress, _onError);\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader;\n    return this;\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader;\n    return this;\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder;\n    return this;\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback);\n    }\n\n    return this;\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n    }\n\n    return this;\n  }\n\n  parse(data, path, onLoad, onError) {\n    let content;\n    const extensions = {};\n    const plugins = {};\n\n    if (typeof data === 'string') {\n      content = data;\n    } else {\n      const magic = _three.LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n        } catch (error) {\n          if (onError) onError(error);\n          return;\n        }\n\n        content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n      } else {\n        content = _three.LoaderUtils.decodeText(new Uint8Array(data));\n      }\n    }\n\n    const json = JSON.parse(content);\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n      return;\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder\n    });\n    parser.fileLoader.setRequestHeader(this.requestHeader);\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser);\n      plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n\n      extensions[plugin.name] = true;\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i];\n        const extensionsRequired = json.extensionsRequired || [];\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n            break;\n\n          case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n            extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n            break;\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n            break;\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension();\n            break;\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension();\n            break;\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n            }\n\n        }\n      }\n    }\n\n    parser.setExtensions(extensions);\n    parser.setPlugins(plugins);\n    parser.parse(onLoad, onError);\n  }\n\n}\n/* GLTFREGISTRY */\n\n\nexports.GLTFLoader = GLTFLoader;\n\nfunction GLTFRegistry() {\n  let objects = {};\n  return {\n    get: function (key) {\n      return objects[key];\n    },\n    add: function (key, object) {\n      objects[key] = object;\n    },\n    remove: function (key) {\n      delete objects[key];\n    },\n    removeAll: function () {\n      objects = {};\n    }\n  };\n}\n/*********************************/\n\n/********** EXTENSIONS ***********/\n\n/*********************************/\n\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\n\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  _markDefs() {\n    const parser = this.parser;\n    const nodeDefs = this.parser.json.nodes || [];\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser;\n    const cacheKey = 'light:' + lightIndex;\n    let dependency = parser.cache.get(cacheKey);\n    if (dependency) return dependency;\n    const json = parser.json;\n    const extensions = json.extensions && json.extensions[this.name] || {};\n    const lightDefs = extensions.lights || [];\n    const lightDef = lightDefs[lightIndex];\n    let lightNode;\n    const color = new _three.Color(0xffffff);\n    if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n    const range = lightDef.range !== undefined ? lightDef.range : 0;\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new _three.DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      case 'point':\n        lightNode = new _three.PointLight(color);\n        lightNode.distance = range;\n        break;\n\n      case 'spot':\n        lightNode = new _three.SpotLight(color);\n        lightNode.distance = range; // Handle spotlight properties.\n\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n\n\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this;\n    const parser = this.parser;\n    const json = parser.json;\n    const nodeDef = json.nodes[nodeIndex];\n    const lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    const lightIndex = lightDef.light;\n    if (lightIndex === undefined) return null;\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light);\n    });\n  }\n\n}\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\n\n\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  getMaterialType() {\n    return _three.MeshBasicMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = [];\n    materialParams.color = new _three.Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const metallicRoughness = materialDef.pbrMetallicRoughness;\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\n\n\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return _three.MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale; // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n        materialParams.clearcoatNormalScale = new _three.Vector2(scale, -scale);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\n\n\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return _three.MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\n\n\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return _three.MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || 0;\n    const colorArray = extension.attenuationColor || [1, 1, 1];\n    materialParams.attenuationTint = new _three.Color(colorArray[0], colorArray[1], colorArray[2]);\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\n\n\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return _three.MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const extension = materialDef.extensions[this.name];\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n    return Promise.resolve();\n  }\n\n}\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\n\n\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return _three.MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1];\n    materialParams.specularTint = new _three.Color(colorArray[0], colorArray[1], colorArray[2]);\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularTintMap', extension.specularColorTexture).then(function (texture) {\n        texture.encoding = _three.sRGBEncoding;\n      }));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\n\n\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[this.name];\n    const source = json.images[extension.source];\n    const loader = parser.options.ktx2Loader;\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null;\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, source, loader);\n  }\n\n}\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\n\n\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name;\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[name];\n    const source = json.images[extension.source];\n    let loader = parser.textureLoader;\n\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n      } // Fall back to PNG or JPEG.\n\n\n      return parser.loadTexture(textureIndex);\n    });\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1);\n        };\n      });\n    }\n\n    return this.isSupported;\n  }\n\n}\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\n\n\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json;\n    const bufferView = json.bufferViews[index];\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name];\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n      const decoder = this.parser.options.meshoptDecoder;\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null;\n        }\n      }\n\n      return Promise.all([buffer, decoder.ready]).then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0;\n        const byteLength = extensionDef.byteLength || 0;\n        const count = extensionDef.count;\n        const stride = extensionDef.byteStride;\n        const result = new ArrayBuffer(count * stride);\n        const source = new Uint8Array(res[0], byteOffset, byteLength);\n        decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n        return result;\n      });\n    } else {\n      return null;\n    }\n  }\n\n}\n/* BINARY EXTENSION */\n\n\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = {\n  JSON: 0x4E4F534A,\n  BIN: 0x004E4942\n};\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: _three.LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    let chunkIndex = 0;\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      const chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = _three.LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      } // Clients must ignore chunks with unknown types.\n\n\n      chunkIndex += chunkLength;\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.');\n    }\n  }\n\n}\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\n\n\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json;\n    const dracoLoader = this.dracoLoader;\n    const bufferViewIndex = primitive.extensions[this.name].bufferView;\n    const gltfAttributeMap = primitive.extensions[this.name].attributes;\n    const threeAttributeMap = {};\n    const attributeNormalizedMap = {};\n    const attributeTypeMap = {};\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]];\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve) {\n        dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n          for (const attributeName in geometry.attributes) {\n            const attribute = geometry.attributes[attributeName];\n            const normalized = attributeNormalizedMap[attributeName];\n            if (normalized !== undefined) attribute.normalized = normalized;\n          }\n\n          resolve(geometry);\n        }, threeAttributeMap, attributeTypeMap);\n      });\n    });\n  }\n\n}\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\n\n\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  extendTexture(texture, transform) {\n    if (transform.texCoord !== undefined) {\n      console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n    }\n\n    if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture;\n    }\n\n    texture = texture.clone();\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset);\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation;\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale);\n    }\n\n    texture.needsUpdate = true;\n    return texture;\n  }\n\n}\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\n\n\nclass GLTFMeshStandardSGMaterial extends _three.MeshStandardMaterial {\n  constructor(params) {\n    super();\n    this.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    const specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    const glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    const specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\ttexelSpecular = sRGBToLinear( texelSpecular );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    const glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    const lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.roughness += geometryRoughness;', 'material.roughness = min( material.roughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    const uniforms = {\n      specular: {\n        value: new _three.Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    this._extraUniforms = uniforms;\n\n    this.onBeforeCompile = function (shader) {\n      for (const uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(this, {\n      specular: {\n        get: function () {\n          return uniforms.specular.value;\n        },\n        set: function (v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function () {\n          return uniforms.specularMap.value;\n        },\n        set: function (v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function () {\n          return uniforms.glossiness.value;\n        },\n        set: function (v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function () {\n          return uniforms.glossinessMap.value;\n        },\n        set: function (v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    this.setValues(params);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.specularMap = source.specularMap;\n    this.specular.copy(source.specular);\n    this.glossinessMap = source.glossinessMap;\n    this.glossiness = source.glossiness;\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    return this;\n  }\n\n}\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\n  }\n\n  getMaterialType() {\n    return GLTFMeshStandardSGMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pbrSpecularGlossiness = materialDef.extensions[this.name];\n    materialParams.color = new _three.Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const pending = [];\n\n    if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n      const array = pbrSpecularGlossiness.diffuseFactor;\n      materialParams.color.fromArray(array);\n      materialParams.opacity = array[3];\n    }\n\n    if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n    }\n\n    materialParams.emissive = new _three.Color(0.0, 0.0, 0.0);\n    materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n    materialParams.specular = new _three.Color(1.0, 1.0, 1.0);\n\n    if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n      materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n    }\n\n    if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n      const specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n      pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n      pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n    }\n\n    return Promise.all(pending);\n  }\n\n  createMaterial(materialParams) {\n    const material = new GLTFMeshStandardSGMaterial(materialParams);\n    material.fog = true;\n    material.color = materialParams.color;\n    material.map = materialParams.map === undefined ? null : materialParams.map;\n    material.lightMap = null;\n    material.lightMapIntensity = 1.0;\n    material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n    material.aoMapIntensity = 1.0;\n    material.emissive = materialParams.emissive;\n    material.emissiveIntensity = 1.0;\n    material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n    material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n    material.bumpScale = 1;\n    material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n    material.normalMapType = _three.TangentSpaceNormalMap;\n    if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n    material.displacementMap = null;\n    material.displacementScale = 1;\n    material.displacementBias = 0;\n    material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n    material.specular = materialParams.specular;\n    material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n    material.glossiness = materialParams.glossiness;\n    material.alphaMap = null;\n    material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n    material.envMapIntensity = 1.0;\n    material.refractionRatio = 0.98;\n    return material;\n  }\n\n}\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\n\n\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n\n}\n/*********************************/\n\n/********** INTERPOLATION ********/\n\n/*********************************/\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\nclass GLTFCubicSplineInterpolant extends _three.Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n    const result = this.resultBuffer,\n          values = this.sampleValues,\n          valueSize = this.valueSize,\n          offset = index * valueSize * 3 + valueSize;\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n\n    return result;\n  }\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n  const result = this.resultBuffer;\n  const values = this.sampleValues;\n  const stride = this.valueSize;\n  const stride2 = stride * 2;\n  const stride3 = stride * 3;\n  const td = t1 - t0;\n  const p = (t - t0) / td;\n  const pp = p * p;\n  const ppp = pp * p;\n  const offset1 = i1 * stride3;\n  const offset0 = offset1 - stride3;\n  const s2 = -2 * ppp + 3 * pp;\n  const s3 = ppp - pp;\n  const s0 = 1 - s2;\n  const s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n  for (let i = 0; i !== stride; i++) {\n    const p0 = values[offset0 + i + stride]; // splineVertex_k\n\n    const m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n    const p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n    const m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n  }\n\n  return result;\n};\n\nconst _q = new _three.Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1);\n\n    _q.fromArray(result).normalize().toArray(result);\n\n    return result;\n  }\n\n}\n/*********************************/\n\n/********** INTERNALS ************/\n\n/*********************************/\n\n/* CONSTANTS */\n\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nconst WEBGL_FILTERS = {\n  9728: _three.NearestFilter,\n  9729: _three.LinearFilter,\n  9984: _three.NearestMipmapNearestFilter,\n  9985: _three.LinearMipmapNearestFilter,\n  9986: _three.NearestMipmapLinearFilter,\n  9987: _three.LinearMipmapLinearFilter\n};\nconst WEBGL_WRAPPINGS = {\n  33071: _three.ClampToEdgeWrapping,\n  33648: _three.MirroredRepeatWrapping,\n  10497: _three.RepeatWrapping\n};\nconst WEBGL_TYPE_SIZES = {\n  'SCALAR': 1,\n  'VEC2': 2,\n  'VEC3': 3,\n  'VEC4': 4,\n  'MAT2': 4,\n  'MAT3': 9,\n  'MAT4': 16\n};\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  TEXCOORD_0: 'uv',\n  TEXCOORD_1: 'uv2',\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex'\n};\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences'\n};\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: _three.InterpolateLinear,\n  STEP: _three.InterpolateDiscrete\n};\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND'\n};\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL(url, path) {\n  // Invalid URL\n  if (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n  if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n    path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n  } // Absolute URL http://,https://,//\n\n\n  if (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n  if (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n  if (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n  return path + url;\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\n\n\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new _three.MeshStandardMaterial({\n      color: 0xFFFFFF,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: _three.FrontSide\n    });\n  }\n\n  return cache['DefaultMaterial'];\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\n\n\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n    }\n  }\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false;\n  let hasMorphNormal = false;\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n    if (target.POSITION !== undefined) hasMorphPosition = true;\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\n    if (hasMorphPosition && hasMorphNormal) break;\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n  const pendingPositionAccessors = [];\n  const pendingNormalAccessors = [];\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n\n    if (hasMorphPosition) {\n      const pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\n      pendingNormalAccessors.push(pendingAccessor);\n    }\n  }\n\n  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n    const morphPositions = accessors[0];\n    const morphNormals = accessors[1];\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\n\n\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames;\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i;\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  let geometryKey;\n\n  if (dracoExtension) {\n    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n  }\n\n  return geometryKey;\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = '';\n  const keys = Object.keys(attributes).sort();\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n  }\n\n  return attributesKey;\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n\n    case Uint8Array:\n      return 1 / 255;\n\n    case Int16Array:\n      return 1 / 32767;\n\n    case Uint16Array:\n      return 1 / 65535;\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\n  }\n}\n/* GLTF PARSER */\n\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    };\n    this.textureCache = {}; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {\n      this.textureLoader = new _three.ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new _three.TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new _three.FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions;\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins;\n  }\n\n  parse(onLoad, onError) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions; // Clear the loader cache\n\n    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n\n    Promise.all(this._invokeAll(function (ext) {\n      return ext.beforeRoot && ext.beforeRoot();\n    })).then(function () {\n      return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\n    }).then(function (dependencies) {\n      const result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser: parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      Promise.all(parser._invokeAll(function (ext) {\n        return ext.afterRoot && ext.afterRoot(result);\n      })).then(function () {\n        onLoad(result);\n      });\n    }).catch(onError);\n  }\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n\n\n  _markDefs() {\n    const nodeDefs = this.json.nodes || [];\n    const skinDefs = this.json.skins || [];\n    const meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints;\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    } // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n\n\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  }\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n\n\n  _addNodeRef(cache, index) {\n    if (index === undefined) return;\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n\n    cache.refs[index]++;\n  }\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n\n\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object;\n    const ref = object.clone();\n    ref.name += '_instance_' + cache.uses[index]++;\n    return ref;\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.push(this);\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) return result;\n    }\n\n    return null;\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    const pending = [];\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) pending.push(result);\n    }\n\n    return pending;\n  }\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n\n\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index;\n    let dependency = this.cache.get(cacheKey);\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index);\n          break;\n\n        case 'node':\n          dependency = this.loadNode(index);\n          break;\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n\n        case 'accessor':\n          dependency = this.loadAccessor(index);\n          break;\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n\n        case 'buffer':\n          dependency = this.loadBuffer(index);\n          break;\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n\n        case 'skin':\n          dependency = this.loadSkin(index);\n          break;\n\n        case 'animation':\n          dependency = this.loadAnimation(index);\n          break;\n\n        case 'camera':\n          dependency = this.loadCamera(index);\n          break;\n\n        default:\n          throw new Error('Unknown type: ' + type);\n      }\n\n      this.cache.add(cacheKey, dependency);\n    }\n\n    return dependency;\n  }\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n\n\n  getDependencies(type) {\n    let dependencies = this.cache.get(type);\n\n    if (!dependencies) {\n      const parser = this;\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n      dependencies = Promise.all(defs.map(function (def, index) {\n        return parser.getDependency(type, index);\n      }));\n      this.cache.add(type, dependencies);\n    }\n\n    return dependencies;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex];\n    const loader = this.fileLoader;\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n    } // If present, GLB container is required to be the first buffer.\n\n\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n\n    const options = this.options;\n    return new Promise(function (resolve, reject) {\n      loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0;\n      const byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n\n\n  loadAccessor(accessorIndex) {\n    const parser = this;\n    const json = this.json;\n    const accessorDef = this.json.accessors[accessorIndex];\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      // Ignore empty accessors, which may be used to declare runtime\n      // information about attributes coming from another source (e.g. Draco\n      // compression extension).\n      return Promise.resolve(null);\n    }\n\n    const pendingBufferViews = [];\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0];\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      const itemBytes = elementBytes * itemSize;\n      const byteOffset = accessorDef.byteOffset || 0;\n      const byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n      const normalized = accessorDef.normalized === true;\n      let array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride);\n        const ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n        let ib = parser.cache.get(ibCacheKey);\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n          ib = new _three.InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n\n        bufferAttribute = new _three.InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n\n        bufferAttribute = new _three.BufferAttribute(array, itemSize, normalized);\n      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        const sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new _three.BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n        }\n      }\n\n      return bufferAttribute;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture>}\n   */\n\n\n  loadTexture(textureIndex) {\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const source = json.images[textureDef.source];\n    let loader = this.textureLoader;\n\n    if (source.uri) {\n      const handler = options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.loadTextureImage(textureIndex, source, loader);\n  }\n\n  loadTextureImage(textureIndex, source, loader) {\n    const parser = this;\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey];\n    }\n\n    const URL = self.URL || self.webkitURL;\n    let sourceURI = source.uri || '';\n    let isObjectURL = false;\n    let hasAlpha = true;\n    const isJPEG = sourceURI.search(/\\.jpe?g($|\\?)/i) > 0 || sourceURI.search(/^data\\:image\\/jpeg/) === 0;\n    if (source.mimeType === 'image/jpeg' || isJPEG) hasAlpha = false;\n\n    if (source.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n      sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n        if (source.mimeType === 'image/png') {\n          // Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n          // alpha channel. This check is conservative \u2014 the image could have an alpha\n          // channel with all values == 1, and the indexed type (colorType == 3) only\n          // sometimes contains alpha.\n          //\n          // https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n          const colorType = new DataView(bufferView, 25, 1).getUint8(0, false);\n          hasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n        }\n\n        isObjectURL = true;\n        const blob = new Blob([bufferView], {\n          type: source.mimeType\n        });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    } else if (source.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');\n    }\n\n    const promise = Promise.resolve(sourceURI).then(function (sourceURI) {\n      return new Promise(function (resolve, reject) {\n        let onLoad = resolve;\n\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function (imageBitmap) {\n            const texture = new _three.Texture(imageBitmap);\n            texture.needsUpdate = true;\n            resolve(texture);\n          };\n        }\n\n        loader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n      });\n    }).then(function (texture) {\n      // Clean up resources and configure Texture.\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n\n      texture.flipY = false;\n      if (textureDef.name) texture.name = textureDef.name; // When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\n      if (!hasAlpha) texture.format = _three.RGBFormat;\n      const samplers = json.samplers || {};\n      const sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || _three.LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || _three.LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || _three.RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || _three.RepeatWrapping;\n      parser.associations.set(texture, {\n        type: 'textures',\n        index: textureIndex\n      });\n      return texture;\n    }).catch(function () {\n      console.error('THREE.GLTFLoader: Couldn\\'t load texture', sourceURI);\n      return null;\n    });\n    this.textureCache[cacheKey] = promise;\n    return promise;\n  }\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n\n\n  assignTexture(materialParams, mapName, mapDef) {\n    const parser = this;\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n      // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n      if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n        console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n\n      materialParams[mapName] = texture;\n      return texture;\n    });\n  }\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n\n\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry;\n    let material = mesh.material;\n    const useVertexTangents = geometry.attributes.tangent !== undefined;\n    const useVertexColors = geometry.attributes.color !== undefined;\n    const useFlatShading = geometry.attributes.normal === undefined;\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid;\n      let pointsMaterial = this.cache.get(cacheKey);\n\n      if (!pointsMaterial) {\n        pointsMaterial = new _three.PointsMaterial();\n\n        _three.Material.prototype.copy.call(pointsMaterial, material);\n\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid;\n      let lineMaterial = this.cache.get(cacheKey);\n\n      if (!lineMaterial) {\n        lineMaterial = new _three.LineBasicMaterial();\n\n        _three.Material.prototype.copy.call(lineMaterial, material);\n\n        lineMaterial.color.copy(material.color);\n        this.cache.add(cacheKey, lineMaterial);\n      }\n\n      material = lineMaterial;\n    } // Clone the material if it will be modified\n\n\n    if (useVertexTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n      if (useVertexTangents) cacheKey += 'vertex-tangents:';\n      if (useVertexColors) cacheKey += 'vertex-colors:';\n      if (useFlatShading) cacheKey += 'flat-shading:';\n      let cachedMaterial = this.cache.get(cacheKey);\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useVertexColors) cachedMaterial.vertexColors = true;\n        if (useFlatShading) cachedMaterial.flatShading = true;\n\n        if (useVertexTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n        }\n\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n\n      material = cachedMaterial;\n    } // workarounds for mesh and geometry\n\n\n    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n      geometry.setAttribute('uv2', geometry.attributes.uv);\n    }\n\n    mesh.material = material;\n  }\n\n  getMaterialType()\n  /* materialIndex */\n  {\n    return _three.MeshStandardMaterial;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n\n\n  loadMaterial(materialIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const materialDef = json.materials[materialIndex];\n    let materialType;\n    const materialParams = {};\n    const materialExtensions = materialDef.extensions || {};\n    const pending = [];\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n      const sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n      materialType = sgExtension.getMaterialType();\n      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new _three.Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(Promise.all(this._invokeAll(function (ext) {\n        return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n      })));\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = _three.DoubleSide;\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.format = _three.RGBFormat;\n      materialParams.transparent = false;\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== _three.MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture)); // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n      materialParams.normalScale = new _three.Vector2(1, -1);\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        materialParams.normalScale.set(materialDef.normalTexture.scale, -materialDef.normalTexture.scale);\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== _three.MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== _three.MeshBasicMaterial) {\n      materialParams.emissive = new _three.Color().fromArray(materialDef.emissiveFactor);\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== _three.MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n    }\n\n    return Promise.all(pending).then(function () {\n      let material;\n\n      if (materialType === GLTFMeshStandardSGMaterial) {\n        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n      } else {\n        material = new materialType(materialParams);\n      }\n\n      if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n      if (material.map) material.map.encoding = _three.sRGBEncoding;\n      if (material.emissiveMap) material.emissiveMap.encoding = _three.sRGBEncoding;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, {\n        type: 'materials',\n        index: materialIndex\n      });\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  }\n  /** When Object3D instances are targeted by animation, they need unique names. */\n\n\n  createUniqueName(originalName) {\n    const sanitizedName = _three.PropertyBinding.sanitizeNodeName(originalName || '');\n\n    let name = sanitizedName;\n\n    for (let i = 1; this.nodeNamesUsed[name]; ++i) {\n      name = sanitizedName + '_' + i;\n    }\n\n    this.nodeNamesUsed[name] = true;\n    return name;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n\n\n  loadGeometries(primitives) {\n    const parser = this;\n    const extensions = this.extensions;\n    const cache = this.primitiveCache;\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i];\n      const cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n      const cached = cache[cacheKey];\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise);\n      } else {\n        let geometryPromise;\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new _three.BufferGeometry(), primitive, parser);\n        } // Cache this geometry\n\n\n        cache[cacheKey] = {\n          primitive: primitive,\n          promise: geometryPromise\n        };\n        pending.push(geometryPromise);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n\n\n  loadMesh(meshIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const meshDef = json.meshes[meshIndex];\n    const primitives = meshDef.primitives;\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n      pending.push(material);\n    }\n\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1);\n      const geometries = results[results.length - 1];\n      const meshes = [];\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i];\n        const primitive = primitives[i]; // 1. create Mesh\n\n        let mesh;\n        const material = materials[i];\n\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new _three.SkinnedMesh(geometry, material) : new _three.Mesh(geometry, material);\n\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n            mesh.normalizeSkinWeights();\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, _three.TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, _three.TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new _three.LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new _three.Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new _three.LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new _three.Points(geometry, material);\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n        assignExtrasToUserData(mesh, meshDef);\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n\n      if (meshes.length === 1) {\n        return meshes[0];\n      }\n\n      const group = new _three.Group();\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n\n      return group;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n\n\n  loadCamera(cameraIndex) {\n    let camera;\n    const cameraDef = this.json.cameras[cameraIndex];\n    const params = cameraDef[cameraDef.type];\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.');\n      return;\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new _three.PerspectiveCamera(_three.MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new _three.OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Object>}\n   */\n\n\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex];\n    const skinEntry = {\n      joints: skinDef.joints\n    };\n\n    if (skinDef.inverseBindMatrices === undefined) {\n      return Promise.resolve(skinEntry);\n    }\n\n    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n      skinEntry.inverseBindMatrices = accessor;\n      return skinEntry;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n\n\n  loadAnimation(animationIndex) {\n    const json = this.json;\n    const animationDef = json.animations[animationIndex];\n    const pendingNodes = [];\n    const pendingInputAccessors = [];\n    const pendingOutputAccessors = [];\n    const pendingSamplers = [];\n    const pendingTargets = [];\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i];\n      const sampler = animationDef.samplers[channel.sampler];\n      const target = channel.target;\n      const name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n      pendingNodes.push(this.getDependency('node', name));\n      pendingInputAccessors.push(this.getDependency('accessor', input));\n      pendingOutputAccessors.push(this.getDependency('accessor', output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n\n    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n      const nodes = dependencies[0];\n      const inputAccessors = dependencies[1];\n      const outputAccessors = dependencies[2];\n      const samplers = dependencies[3];\n      const targets = dependencies[4];\n      const tracks = [];\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i];\n        const inputAccessor = inputAccessors[i];\n        const outputAccessor = outputAccessors[i];\n        const sampler = samplers[i];\n        const target = targets[i];\n        if (node === undefined) continue;\n        node.updateMatrix();\n        node.matrixAutoUpdate = true;\n        let TypedKeyframeTrack;\n\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = _three.NumberKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = _three.QuaternionKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = _three.VectorKeyframeTrack;\n            break;\n        }\n\n        const targetName = node.name ? node.name : node.uuid;\n        const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : _three.InterpolateLinear;\n        const targetNames = [];\n\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          // Node may be a Group (glTF mesh with several primitives) or a Mesh.\n          node.traverse(function (object) {\n            if (object.isMesh === true && object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n\n        let outputArray = outputAccessor.array;\n\n        if (outputAccessor.normalized) {\n          const scale = getNormalizedComponentScale(outputArray.constructor);\n          const scaled = new Float32Array(outputArray.length);\n\n          for (let j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n\n          outputArray = scaled;\n        }\n\n        for (let j = 0, jl = targetNames.length; j < jl; j++) {\n          const track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n          if (sampler.interpolation === 'CUBICSPLINE') {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n              // must be divided by three to get the interpolant's sampleSize argument.\n              const interpolantType = this instanceof _three.QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n              return new interpolantType(this.times, this.values, this.getValueSize() / 3, result);\n            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n\n          tracks.push(track);\n        }\n      }\n\n      const name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n      return new _three.AnimationClip(name, undefined, tracks);\n    });\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex];\n    if (nodeDef.mesh === undefined) return null;\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return;\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i];\n          }\n        });\n      }\n\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n\n\n  loadNode(nodeIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n    return function () {\n      const pending = [];\n\n      const meshPromise = parser._invokeOne(function (ext) {\n        return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n      });\n\n      if (meshPromise) {\n        pending.push(meshPromise);\n      }\n\n      if (nodeDef.camera !== undefined) {\n        pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        }));\n      }\n\n      parser._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n      }).forEach(function (promise) {\n        pending.push(promise);\n      });\n\n      return Promise.all(pending);\n    }().then(function (objects) {\n      let node; // .isBone isn't in glTF spec. See ._markDefs\n\n      if (nodeDef.isBone === true) {\n        node = new _three.Bone();\n      } else if (objects.length > 1) {\n        node = new _three.Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new _three.Object3D();\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new _three.Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation);\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n\n      parser.associations.set(node, {\n        type: 'nodes',\n        index: nodeIndex\n      });\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n\n\n  loadScene(sceneIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const sceneDef = this.json.scenes[sceneIndex];\n    const parser = this; // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n    const scene = new _three.Group();\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n    assignExtrasToUserData(scene, sceneDef);\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n    const nodeIds = sceneDef.nodes || [];\n    const pending = [];\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\n    }\n\n    return Promise.all(pending).then(function () {\n      return scene;\n    });\n  }\n\n}\n\nfunction buildNodeHierachy(nodeId, parentObject, json, parser) {\n  const nodeDef = json.nodes[nodeId];\n  return parser.getDependency('node', nodeId).then(function (node) {\n    if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n    let skinEntry;\n    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n      skinEntry = skin;\n      const pendingJoints = [];\n\n      for (let i = 0, il = skinEntry.joints.length; i < il; i++) {\n        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n      }\n\n      return Promise.all(pendingJoints);\n    }).then(function (jointNodes) {\n      node.traverse(function (mesh) {\n        if (!mesh.isMesh) return;\n        const bones = [];\n        const boneInverses = [];\n\n        for (let j = 0, jl = jointNodes.length; j < jl; j++) {\n          const jointNode = jointNodes[j];\n\n          if (jointNode) {\n            bones.push(jointNode);\n            const mat = new _three.Matrix4();\n\n            if (skinEntry.inverseBindMatrices !== undefined) {\n              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n            }\n\n            boneInverses.push(mat);\n          } else {\n            console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n          }\n        }\n\n        mesh.bind(new _three.Skeleton(bones, boneInverses), mesh.matrixWorld);\n      });\n      return node;\n    });\n  }).then(function (node) {\n    // build node hierachy\n    parentObject.add(node);\n    const pending = [];\n\n    if (nodeDef.children) {\n      const children = nodeDef.children;\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        const child = children[i];\n        pending.push(buildNodeHierachy(child, node, json, parser));\n      }\n    }\n\n    return Promise.all(pending);\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\n\n\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const box = new _three.Box3();\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION];\n    const min = accessor.min;\n    const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new _three.Vector3(min[0], min[1], min[2]), new _three.Vector3(max[0], max[1], max[2]));\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n      return;\n    }\n  } else {\n    return;\n  }\n\n  const targets = primitiveDef.targets;\n\n  if (targets !== undefined) {\n    const maxDisplacement = new _three.Vector3();\n    const vector = new _three.Vector3();\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i];\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION];\n        const min = accessor.min;\n        const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n            vector.multiplyScalar(boxScale);\n          } // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n\n          maxDisplacement.max(vector);\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        }\n      }\n    } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n    box.expandByVector(maxDisplacement);\n  }\n\n  geometry.boundingBox = box;\n  const sphere = new _three.Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const pending = [];\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n    if (threeAttributeName in geometry.attributes) continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor);\n    });\n    pending.push(accessor);\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\n\n\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  let index = geometry.getIndex(); // generate index if not present\n\n  if (index === null) {\n    const indices = [];\n    const position = geometry.getAttribute('position');\n\n    if (position !== undefined) {\n      for (let i = 0; i < position.count; i++) {\n        indices.push(i);\n      }\n\n      geometry.setIndex(indices);\n      index = geometry.getIndex();\n    } else {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n      return geometry;\n    }\n  } //\n\n\n  const numberOfTriangles = index.count - 2;\n  const newIndices = [];\n\n  if (drawMode === _three.TriangleFanDrawMode) {\n    // gl.TRIANGLE_FAN\n    for (let i = 1; i <= numberOfTriangles; i++) {\n      newIndices.push(index.getX(0));\n      newIndices.push(index.getX(i));\n      newIndices.push(index.getX(i + 1));\n    }\n  } else {\n    // gl.TRIANGLE_STRIP\n    for (let i = 0; i < numberOfTriangles; i++) {\n      if (i % 2 === 0) {\n        newIndices.push(index.getX(i));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i + 2));\n      } else {\n        newIndices.push(index.getX(i + 2));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i));\n      }\n    }\n  }\n\n  if (newIndices.length / 3 !== numberOfTriangles) {\n    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n  } // build final geometry\n\n\n  const newGeometry = geometry.clone();\n  newGeometry.setIndex(newIndices);\n  return newGeometry;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","GLTFRegistry","objects","get","key","add","object","remove","removeAll","resolveURL","url","path","test","replace","createDefaultMaterial","cache","undefined","_three","MeshStandardMaterial","color","emissive","metalness","roughness","transparent","depthTest","side","FrontSide","addUnknownExtensionsToUserData","knownExtensions","objectDef","name","extensions","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","Object","assign","console","warn","addMorphTargets","geometry","targets","parser","hasMorphPosition","hasMorphNormal","i","il","length","target","POSITION","NORMAL","Promise","resolve","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","getDependency","attributes","position","push","normal","all","then","accessors","morphPositions","morphNormals","morphAttributes","morphTargetsRelative","createPrimitiveKey","primitiveDef","dracoExtension","EXTENSIONS","KHR_DRACO_MESH_COMPRESSION","geometryKey","bufferView","indices","createAttributesKey","mode","attributesKey","keys","sort","getNormalizedComponentScale","constructor","Int8Array","Uint8Array","Int16Array","Uint16Array","Error","buildNodeHierachy","nodeId","parentObject","json","nodeDef","nodes","node","skin","skinEntry","pendingJoints","joints","jointNodes","traverse","mesh","isMesh","bones","boneInverses","j","jl","jointNode","mat","Matrix4","inverseBindMatrices","fromArray","array","bind","Skeleton","matrixWorld","pending","children","child","computeBounds","box","Box3","accessor","min","max","set","Vector3","normalized","boxScale","WEBGL_COMPONENT_TYPES","componentType","multiplyScalar","maxDisplacement","vector","setX","Math","abs","setY","setZ","expandByVector","boundingBox","sphere","Sphere","getCenter","center","radius","distanceTo","boundingSphere","addPrimitiveAttributes","assignAttributeAccessor","accessorIndex","attributeName","setAttribute","gltfAttributeName","threeAttributeName","ATTRIBUTES","toLowerCase","index","setIndex","toTrianglesDrawMode","drawMode","getIndex","getAttribute","count","error","numberOfTriangles","newIndices","TriangleFanDrawMode","getX","newGeometry","clone","defineProperty","value","GLTFLoader","Loader","manager","meshoptDecoder","ktx2Loader","dracoLoader","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsSpecularExtension","GLTFLightsExtension","GLTFMeshoptCompression","load","onLoad","onProgress","onError","scope","resourcePath","LoaderUtils","extractUrlBase","itemStart","_onError","e","itemError","itemEnd","loader","FileLoader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","data","parse","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","callback","indexOf","unregister","splice","plugins","BINARY_EXTENSION_HEADER_MAGIC","decodeText","magic","KHR_BINARY_GLTF","GLTFBinaryExtension","content","JSON","asset","version","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodeIndex","nodeLength","light","_addNodeRef","_loadLight","lightIndex","cacheKey","dependency","lightDef","lights","Color","range","type","lightNode","DirectionalLight","PointLight","distance","SpotLight","spot","innerConeAngle","outerConeAngle","PI","angle","penumbra","decay","intensity","createUniqueName","createNodeAttachment","self","_getNodeRef","getMaterialType","MeshBasicMaterial","extendParams","materialParams","materialDef","opacity","metallicRoughness","pbrMetallicRoughness","Array","isArray","baseColorFactor","baseColorTexture","assignTexture","materialIndex","materials","MeshPhysicalMaterial","extendMaterialParams","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","scale","clearcoatNormalScale","Vector2","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","attenuationTint","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularTint","specularColorTexture","texture","encoding","sRGBEncoding","loadTexture","textureIndex","textureDef","textures","source","images","options","loadTextureImage","isSupported","textureLoader","uri","handler","getHandler","detectSupport","image","Image","src","onload","onerror","image.onerror","height","loadBufferView","bufferViews","extensionDef","buffer","decoder","supported","ready","res","byteOffset","byteLength","stride","byteStride","result","ArrayBuffer","decodeGltfBuffer","filter","body","headerView","DataView","BINARY_EXTENSION_HEADER_LENGTH","header","slice","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","BIN","preload","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","accessorDef","decodeDracoFile","attribute","extendTexture","transform","texCoord","offset","rotation","repeat","needsUpdate","GLTFMeshStandardSGMaterial","params","isGLTFSpecularGlossinessMaterial","uniforms","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","this.onBeforeCompile","shader","uniformName","fragmentShader","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","defineProperties","v","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalnessMap","roughnessMap","setValues","copy","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","material","fog","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","TangentSpaceNormalMap","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","copySampleValue_","values","valueSize","prototype","beforeStart_","afterEnd_","interpolate_","GLTFCubicSplineInterpolant.prototype.interpolate_","i1","t0","t","t1","stride2","stride3","td","p","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","p1","_q","Quaternion","GLTFCubicSplineQuaternionInterpolant","normalize","toArray","Uint32Array","Float32Array","WEBGL_FILTERS","NearestFilter","LinearFilter","NearestMipmapNearestFilter","LinearMipmapNearestFilter","NearestMipmapLinearFilter","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","ClampToEdgeWrapping","MirroredRepeatWrapping","RepeatWrapping","WEBGL_TYPE_SIZES","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","STEP","InterpolateDiscrete","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","ImageBitmapLoader","TextureLoader","setCrossOrigin","_invokeAll","ext","beforeRoot","getDependencies","dependencies","scene","scenes","animations","cameras","afterRoot","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","isBone","isSkinnedMesh","camera","ref","_invokeOne","func","unshift","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","def","bufferIndex","bufferDef","buffers","reject","bufferViewDef","sparse","pendingBufferViews","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","ibSlice","floor","ibCacheKey","ib","InterleavedBuffer","bufferAttribute","InterleavedBufferAttribute","BufferAttribute","byteOffsetValues","sparseIndices","TypedArrayIndices","SCALAR","sparseValues","setW","sampler","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","isJPEG","search","mimeType","colorType","getUint8","blob","Blob","createObjectURL","promise","isImageBitmapLoader","imageBitmap","Texture","revokeObjectURL","flipY","format","RGBFormat","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","isPoints","uuid","pointsMaterial","PointsMaterial","Material","call","sizeAttenuation","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","vertexColors","flatShading","y","uv2","uv","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","DoubleSide","alphaMode","OPAQUE","BLEND","depthWrite","MASK","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","sanitizedName","PropertyBinding","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","cached","geometryPromise","BufferGeometry","meshIndex","meshDef","results","geometries","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","SkinnedMesh","Mesh","skinWeight","normalizeSkinWeights","TriangleStripDrawMode","LINES","LineSegments","LINE_STRIP","Line","LINE_LOOP","LineLoop","POINTS","Points","updateMorphTargets","morphTargetInfluences","targetNames","morphTargetDictionary","group","Group","cameraIndex","cameraDef","PerspectiveCamera","MathUtils","radToDeg","yfov","aspectRatio","znear","zfar","OrthographicCamera","xmag","ymag","skinDef","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","input","parameters","output","id","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","updateMatrix","matrixAutoUpdate","TypedKeyframeTrack","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","outputArray","scaled","track","createInterpolant","track.createInterpolant","interpolantType","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","createNodeMesh","o","nodeName","meshPromise","forEach","Bone","Object3D","matrix","applyMatrix4","quaternion","sceneIndex","sceneDef","nodeIds"]
}
