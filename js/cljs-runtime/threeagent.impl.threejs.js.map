{"version":3,"sources":["threeagent/impl/threejs.cljs"],"mappings":"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","names":["threeagent.impl.threejs/mesh-phong-material","c","js/module$node_modules$three$build$three_module.MeshPhongMaterial","cljs.core/clj->js","threeagent.impl.threejs/euler","x","y","z","js/module$node_modules$three$build$three_module.Euler","p__9870","vec__9871","cljs.core.nth","threeagent.impl.threejs/set-position!","obj","p__9874","vec__9875","threeagent.impl.threejs/set-rotation!","p__9878","vec__9879","threeagent.impl.threejs/set-scale!","threeagent.impl.threejs/set-cast-shadow!","?true","threeagent.impl.threejs/set-receive-shadow!","threeagent.impl.threejs/add-child!","parent","child","threeagent.impl.threejs/remove-child!","threeagent.impl.threejs/remove-all-children!","iter__4611__auto__","s__9883","cljs.core/LazySeq","temp__5753__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4609__auto__","size__4610__auto__","cljs.core/count","b__9885","cljs.core/chunk-buffer","i__9884","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__9882","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","threeagent.impl.threejs/get-in","path","next","cljs.core._EQ_","cljs.core/chunk-first"],"sourcesContent":["(ns threeagent.impl.threejs\n  (:refer-clojure :exclude [get-in])\n  (:require [\"three\" :as three]))\n\n\n(defn mesh-phong-material [c]\n  (new three/MeshPhongMaterial (clj->js c)))\n\n(defn euler [x y z]\n  (new three/Euler x y z \"XYZ\"))\n\n(defn set-position! [^js obj [x y z]]\n  (.set (.-position obj) x y z)\n  obj)\n\n(defn set-rotation! [^js obj [x y z]]\n  (.setRotationFromEuler obj (euler x y z))\n  obj)\n\n(defn set-scale! [^js obj [x y z]]\n  (.set (.-scale obj) x y z)\n  obj)\n  \n(defn set-cast-shadow! [^js obj ?true]\n  (set! (.-castShadow obj) ?true)\n  obj)\n  \n(defn set-receive-shadow! [^js obj ?true]\n  (set! (.-receiveShadow obj) ?true)\n  obj)\n  \n(defn add-child! [^js parent ^js child] (.add parent child))\n\n(defn remove-child! [^js parent ^js child] (.remove parent child))\n\n(defn remove-all-children! [^js parent]\n  (for [c (.-children parent)]\n    (remove-child! parent c))\n  parent)\n\n(defn get-in [^three/Object3D parent path]\n  (if (seq path)\n    (let [next (first path)]\n      (if (string? next)\n        (recur (.getObjectByName parent next) (rest path))\n        (if (= :.. next)\n          (recur (.-parent parent) (rest path))\n          (recur (aget (.-children parent) next) (rest path)))))\n    parent))\n"]}