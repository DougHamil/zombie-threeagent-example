{
"version":3,
"file":"module$node_modules$three_nebula$build$esm$core$fromJSON.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/three-nebula/build/esm/core/fromJSON.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three_nebula$build$esm$core$fromJSON\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar Behaviour = _interopRequireWildcard(require(\"../behaviour\"));\n\nvar Initializer = _interopRequireWildcard(require(\"../initializer\"));\n\nvar _constants = require(\"../constants\");\n\nvar _constants2 = require(\"./constants\");\n\nvar _Rate = _interopRequireDefault(require(\"../initializer/Rate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * Makes a rate instance.\n *\n * @param {object} json - The data required to construct a Rate instance\n * @return {Rate}\n */\nconst makeRate = json => _Rate.default.fromJSON(json);\n/**\n * Makes initializers from json items.\n *\n * @param {array<object>} items - An array of objects which provide initializer constructor params\n * @param {object} THREE - The Web GL Api to use\n * @return {array<Initializer>}\n */\n\n\nconst makeInitializers = (items, THREE) => {\n  const initializers = [];\n  items.forEach(data => {\n    const {\n      type,\n      properties\n    } = data;\n\n    if (!_constants2.SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n      throw new Error(`The initializer type ${type} is invalid or not yet supported`);\n    }\n\n    if (_constants2.INITIALIZER_TYPES_THAT_REQUIRE_THREE.includes(type)) {\n      initializers.push(Initializer[type].fromJSON(properties, THREE));\n    } else {\n      initializers.push(Initializer[type].fromJSON(properties));\n    }\n  });\n  return initializers;\n};\n/**\n * Makes behaviours from json items.\n *\n * @param {array<object>} items - An array of objects which provide behaviour constructor params\n * @return {array<Behaviour>}\n */\n\n\nconst makeBehaviours = items => {\n  const behaviours = [];\n  items.forEach(data => {\n    const {\n      type,\n      properties\n    } = data;\n\n    if (!_constants2.SUPPORTED_JSON_BEHAVIOUR_TYPES.includes(type)) {\n      throw new Error(`The behaviour type ${type} is invalid or not yet supported`);\n    }\n\n    behaviours.push(Behaviour[type].fromJSON(properties));\n  });\n  return behaviours;\n};\n/**\n * Creates a System instance from a JSON object.\n *\n * @deprecated Use fromJSONAsync instead.\n *\n * @param {object} json - The JSON to create the System instance from\n * @param {object} THREE - The Web GL Api to use\n * @param {function} System - The system class\n * @param {function} Emitter - The emitter class\n * @param {number} json.preParticles - The predetermined number of particles\n * @param {string} json.integrationType - The integration algorithm to use\n * @param {array<object>} json.emitters - The emitters for the system instance\n * @return {System}\n */\n\n\nvar _default = (json, THREE, System, Emitter) => {\n  const {\n    preParticles = _constants.POOL_MAX,\n    integrationType = _constants.EULER,\n    emitters = []\n  } = json;\n  const system = new System(THREE, preParticles, integrationType);\n  emitters.forEach(data => {\n    const emitter = new Emitter();\n    const {\n      rate,\n      rotation,\n      initializers,\n      behaviours,\n      emitterBehaviours = [],\n      position,\n      totalEmitTimes = Infinity,\n      life = Infinity\n    } = data;\n    emitter.setRate(makeRate(rate)).setRotation(rotation).setInitializers(makeInitializers(initializers, THREE)).setBehaviours(makeBehaviours(behaviours)).setEmitterBehaviours(makeBehaviours(emitterBehaviours)).setPosition(position).emit(totalEmitTimes, life);\n    system.addEmitter(emitter);\n  });\n  return system;\n};\n\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","WeakMap","cache","_interopRequireWildcard","obj","__esModule","default","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","value","Behaviour","Initializer","_constants","_constants2","_Rate","_interopRequireDefault","makeInitializers","items","THREE","initializers","forEach","data","type","properties","SUPPORTED_JSON_INITIALIZER_TYPES","includes","Error","INITIALIZER_TYPES_THAT_REQUIRE_THREE","push","fromJSON","makeBehaviours","behaviours","SUPPORTED_JSON_BEHAVIOUR_TYPES","json","System","Emitter","_default","preParticles","POOL_MAX","integrationType","EULER","emitters","system","emitter","rate","rotation","emitterBehaviours","position","totalEmitTimes","Infinity","life","setRate","setRotation","setInitializers","setBehaviours","setEmitterBehaviours","setPosition","emit","addEmitter"]
}
