{"version":3,"sources":["threeagent/system.cljs"],"mappings":"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","names":["threeagent$system$ISystem$init$dyn","x__4509__auto__","m__4510__auto__","threeagent.system/init","goog/typeOf","m__4508__auto__","cljs.core/missing-protocol","threeagent$system$ISystem$destroy$dyn","threeagent.system/destroy","threeagent$system$ISystem$on_entity_added$dyn","threeagent.system/on-entity-added","threeagent$system$ISystem$on_entity_removed$dyn","threeagent.system/on-entity-removed","threeagent$system$ISystem$tick$dyn","threeagent.system/tick","threeagent.system/ISystem","this","threeagent-config","entity-context","entity-id","threejs-obj","system-config","delta-time"],"sourcesContent":["(ns threeagent.system)\n\n(defprotocol ISystem\n  (init [this threeagent-config]\n    \"\n     Called after threeagent initialization as part of `threeagent.core/render`\n     `threeagent-config`: A map with the configuration for the threeagent instance: \n     ```clojure\n      {:threejs-renderer <ThreeJS Renderer Instance>\n       :threejs-scene <ThreeJS Scene>\n       :systems <Map of all systems>\n       :canvas <Canvas DOM Element>}\n\n     If the returned value is a function, it will be invoked immediately after all remaining\n     `ISystem/init` have initialized. Otherwise, the returned value is ignored.\n     ```\n    \")\n  (destroy [this threeagent-config]\n    \"\n     Called immediately before the threeagent context is destroyed.\n     This usually happens when `threeagent.core/render` is re-executed as part of a hot-reload.\n     `threeagent-config`: A map with the configuration for the threeagent instance: \n     ```clojure\n      {:threejs-renderer <ThreeJS Renderer Instance>\n       :threejs-scene <ThreeJS Scene>\n       :systems <Map of all systems>\n       :canvas <Canvas DOM Element>}\n\n     If the returned value is a function, it will be invoked immediately after all remaining\n     `ISystem/destroy` have been invoked. Otherwise, the returned value is ignored.\n     ```\n    \")\n  (on-entity-added [this entity-context entity-id threejs-obj system-config]\n    \"\n     Called when a new entity is added to the scene.\n     `entity-context`: A map representing the inherited context for this entity\n     `entity-id`: The ID of this entity, when specified via the `:id` property, `nil` otherwise\n     `threejs-obj`: the ThreeJS object instance for this entity \n     `system-config`: this entity's configuration value for this system's key\n\n     If the returned value is a function, it will be invoked after all remaining\n     `ISystem/on-entity-added` have been invoked for this entity and it's children. \n     Otherwise, the returned value is ignored.\n    \")\n  (on-entity-removed [this entity-context entity-id threejs-obj system-config]\n    \"\n     Called when an entity is removed from the scene\n     `entity-context`: A map representing the inherited context for this entity\n     `entity-id`: The ID of this entity, when specified via the `:id` property, `nil` otherwise\n     `threejs-obj`: the ThreeJS object instance for this entity \n     `system-config`: this entity's configuration value for this system's key\n\n     If the returned value is a function, it will be invoked after all remaining\n     `ISystem/on-entity-removed` have been invoked for this entity and it's children.\n     Otherwise, the returned value is ignored.\n    \")\n  (tick [this delta-time]\n    \"\n     Called each frame\n     `delta-time`: The elapsed time (in seconds) since the last tick (0 for the initial tick)\n    \"))\n"]}