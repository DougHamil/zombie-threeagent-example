{"version":3,"sources":["zombie/assets/core.cljs"],"mappings":"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","names":["zombie.assets.core/assets","zombie.assets.light/loader","zombie.assets.material/phong-loader","zombie.util.asset-loader/ref","zombie.assets.material/sprite-loader","js/module$node_modules$three$build$three_module.AdditiveBlending","zombie.util.math/pi2","zombie.assets.font/font-loader","zombie.assets.audio/sfx-loader","cljs.core.map","cljs.core/str","cljs.core.range","zombie.assets.texture/loader","zombie.assets.animation/loader","zombie.assets.animation/middleware","zombie.assets.animation/kenney-mute-half","zombie.assets.model/loader","zombie.assets.model/middleware","zombie.assets.core/init!","zombie.util.asset-loader/load!","zombie.state.databases/assets"],"sourcesContent":["(ns zombie.assets.core\r\n  (:require [\"three\" :as three]\r\n            [zombie.state.databases :as db]\r\n            [zombie.assets.model :as models]\r\n            [zombie.assets.animation :as animations]\r\n            [zombie.assets.audio :as audio]\r\n            [zombie.assets.texture :as textures]\r\n            [zombie.assets.material :as materials]\r\n            [zombie.assets.light :as lights]\r\n            [zombie.assets.font :as fonts]\r\n            [zombie.util.math :refer [pi2]]\r\n            [zombie.util.asset-loader :as loader :refer [ref]]))\r\n\r\n(def ^:private assets\r\n  [[\"\" ;; These assets synthetic\r\n    ;; Lights\r\n    [\"light\" {:loader lights/loader}\r\n     [\"laser-bullet\" :light/laser-bullet {:color \"green\"\r\n                                          :distance 2.5\r\n                                          :type :point}]]\r\n    ;; Materials\r\n    [\"material\" {:loader materials/phong-loader}\r\n     [\"grass\" :material/grass {:map (ref :texture/grass)}]\r\n     [\"tile\" :material/tile {:map (ref :texture/tile)}]\r\n     [\"health-bar\" :material/health-bar {:color \"red\"\r\n                                         :emissiveIntensity 1\r\n                                         :emissive \"red\"}]\r\n     [\"powerup-blue\" :material/powerup-blue {:color \"blue\"\r\n                                             :emissiveIntensity 1\r\n                                             :emissive \"blue\"}]\r\n     [\"lightpost-lamp\" :material/lightpost-lamp {:color \"yellow\"\r\n                                                 :emissiveIntensity 1\r\n                                                 :emissive \"yellow\"}]\r\n     [\"laser-bullet\" :material/laser-bullet {:color \"green\"\r\n                                             :emissiveIntensity 1\r\n                                             :emissive \"green\"}]\r\n     [\"skin-zombie\" :material/skin-zombie {:emissive 0xFF0000\r\n                                           :shininess 0\r\n                                           :emissiveMap (ref :texture/skin-zombie-emissive)\r\n                                           :emissiveIntensity 1.0\r\n                                           :map      (ref :texture/skin-zombie)}]\r\n     [\"skin-robot\" :material/skin-robot {:emissive 0xFFFF00\r\n                                         :shininess 100\r\n                                         :emissiveMap (ref :texture/skin-robot-emissive)\r\n                                         :emissiveIntensity 1.0\r\n                                         :map      (ref :texture/skin-robot)}]\r\n     [\"sprites\" {:loader materials/sprite-loader}\r\n      [\"laser-particle\" :material/laser-particle {:map (ref :texture/particle-laser)\r\n                                                  :alphaMap (ref :texture/particle-laser)\r\n                                                  :blending three/AdditiveBlending\r\n                                                  :fog true\r\n                                                  :rotation (/ pi2 2)}]]]]\r\n   [\"/assets\"\r\n    ;; Fonts\r\n    [\"fonts\" {:loader fonts/font-loader}\r\n     [\"BebasNeue-Regular.ttf\" :font/bebas {:characters \"123467890abcdefghijklmnopqrstuvwyz\"}]]\r\n    ;; Audio\r\n    [\"audio\"\r\n     [\"sfx\" {:loader audio/sfx-loader}\r\n      [\"laserLarge_00\" :sfx/laser-large-old {:extension \".ogg\"\r\n                                             :volume    0.5\r\n                                             :entries   (map str (range 5))}]\r\n      [\"laserSmall_00\" :sfx/laser-large {:extension \".ogg\"\r\n                                         :volume    0.8\r\n                                         :entries   (map str (range 5))}]\r\n      [\"impactPlate_light_00\" :sfx/impact-plate {:extension \".ogg\"\r\n                                                 :volume    0.6\r\n                                                 :entries   (map str (range 5))}]]]\r\n    ;; Textures\r\n    [\"textures\" {:loader textures/loader}\r\n     [\"tile.png\" :texture/tile {:repeat {:x 100 :y 100}}]\r\n     [\"grass.png\" :texture/grass {:repeat {:x 5 :y 5}}]\r\n     [\"characters\"\r\n      [\"robot.png\" :texture/skin-robot]\r\n      [\"robot_emissive.png\" :texture/skin-robot-emissive]\r\n      [\"zombieA.png\" :texture/skin-zombie]\r\n      [\"zombie_emissive.png\" :texture/skin-zombie-emissive]]\r\n     [\"particles\"\r\n      [\"Laser1.png\" :texture/particle-laser]\r\n      [\"circleFade.png\" :texture/particle-circle-fade]]]\r\n    ;; Animations\r\n    [\"animations\" {:loader     animations/loader\r\n                   :middleware [animations/middleware]}\r\n     [\"character\" {:middleware [animations/kenney-mute-half]}\r\n      [\"title_idle.fbx\" :animation/character-title-idle]\r\n      [\"idle.fbx\" :animation/character-idle-lower {:mute-layer :upper}]\r\n      [\"idle.fbx\" :animation/character-idle-upper {:mute-layer :lower}]\r\n      [\"idle.fbx\" :animation/character-idle {}]\r\n      [\"hit_reaction.fbx\" :animation/character-hit-reaction-upper {:mute-layer :lower\r\n                                                                   :additive? true}]\r\n      [\"aim.fbx\" :animation/character-aim {:additive? false\r\n                                           :mute-layer :lower}]\r\n      [\"run.fbx\" :animation/character-run]\r\n      [\"run.fbx\" :animation/character-run-lower {:mute-layer :upper}]\r\n      [\"run.fbx\" :animation/character-run-upper {:mute-layer :lower}]\r\n      [\"walk.fbx\" :animation/character-walk]\r\n      [\"death.fbx\" :animation/character-death]\r\n      [\"shoot.fbx\" :animation/character-shoot {:additive? false\r\n                                               :mute-layer :lower}]\r\n      [\"attack.fbx\" :animation/character-attack {:additive? false}]]]\r\n    ;; Models\r\n    [\"models\" {:loader     models/loader\r\n               :middleware [models/middleware]}\r\n     [\"characters\" \r\n      [\"characterMedium.fbx\" :model/robot {:material (ref :material/skin-robot)}]\r\n      [\"characterMedium.fbx\" :model/zombie {:material (ref :material/skin-zombie)\r\n                                            :pool-size 50}]]\r\n     [\"props\"\r\n      [\"chest.glb\" :model/chest {:scale 3}]\r\n      [\"crate.glb\" :model/crate {:scale 3}]]\r\n     [\"weapons\"\r\n      [\"blasterA.glb\" :model/blaster-a]\r\n      [\"blasterB.glb\" :model/blaster-b]\r\n      [\"blasterJ.glb\" :model/blaster-j]]\r\n     [\"environment\"\r\n      ;; Graveyard\r\n      [\"road.glb\" :model/road {:scale 3\r\n                               :pools-size 120}]\r\n      [\"ironFence.glb\" :model/iron-fence {:scale 3\r\n                                          :pool-size 40}]\r\n      [\"light_curved.glb\" :model/light-curved {:scale 10}]\r\n      [\"lightpostSingle.glb\" :model/lightpost-single {:scale 3\r\n                                                      :material-replacements {\"Mesh_lightpostSingle_2\"\r\n                                                                              (ref :material/lightpost-lamp)}}]\r\n      [\"trunk.glb\" :model/stump {:scale 3}]\r\n      [\"stoneWall.glb\" :model/stone-wall {:scale 3\r\n                                          :pool-size 180}]\r\n      [\"stoneWallColumn.glb\" :model/stone-wall-column {:scale 3}]\r\n      [\"columnLarge.glb\" :model/column-large {:scale 3\r\n                                              :pool-size 80}]\r\n      [\"gravestoneDecorative.glb\" :model/gravestone-decorative {:scale 3}]\r\n      [\"bench.glb\" :model/bench {:scale 3}]\r\n      [\"coffin.glb\" :model/coffin {:scale 3\r\n                                   :pools-size 80}]\r\n      [\"coffinOld.glb\" :model/coffin-old {:scale 3}]\r\n      [\"debris.glb\" :model/debris {:scale 3}]\r\n      [\"debrisWood.glb\" :model/debris-wood {:scale 3}]\r\n      [\"grave.glb\" :model/grave {:scale 3}]\r\n      [\"graveBorder.glb\" :model/grave-border {:scale 3}]]]]])\r\n\r\n\r\n(defn init! []\r\n  (loader/load! db/assets assets))\r\n"]}