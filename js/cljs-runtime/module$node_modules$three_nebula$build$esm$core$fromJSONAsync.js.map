{
"version":3,
"file":"module$node_modules$three_nebula$build$esm$core$fromJSONAsync.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/three-nebula/build/esm/core/fromJSONAsync.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three_nebula$build$esm$core$fromJSONAsync\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar Behaviour = _interopRequireWildcard(require(\"../behaviour\"));\n\nvar Initializer = _interopRequireWildcard(require(\"../initializer\"));\n\nvar _constants = require(\"../constants\");\n\nvar _constants2 = require(\"./constants\");\n\nvar _Rate = _interopRequireDefault(require(\"../initializer/Rate\"));\n\nvar _Texture = _interopRequireDefault(require(\"../initializer/Texture\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nconst DEFAULT_OPTIONS = {\n  shouldAutoEmit: true\n};\n/**\n * Makes a rate instance.\n *\n * @param {object} json - The data required to construct a Rate instance\n * @return {Rate}\n */\n\nconst makeRate = json => _Rate.default.fromJSON(json);\n/**\n * Makes initializers from json items.\n *\n * @param {array<object>} items - An array of objects which provide initializer constructor params\n * @param {object} THREE - The Web GL Api to use\n * @return {array<Initializer>}\n */\n\n\nconst makeInitializers = (items, THREE) => new Promise((resolve, reject) => {\n  if (!items.length) {\n    return resolve([]);\n  }\n\n  const numberOfInitializers = items.length;\n  const madeInitializers = [];\n  const doNotRequireTextureLoading = items.filter(({\n    properties\n  }) => !properties.texture);\n  const doRequireTextureLoading = items.filter(({\n    properties\n  }) => properties.texture);\n  doNotRequireTextureLoading.forEach(data => {\n    const {\n      type,\n      properties\n    } = data;\n\n    if (!_constants2.SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n      return reject(`The initializer type ${type} is invalid or not yet supported`);\n    }\n\n    if (_constants2.INITIALIZER_TYPES_THAT_REQUIRE_THREE.includes(type)) {\n      madeInitializers.push(Initializer[type].fromJSON(properties, THREE));\n    } else {\n      madeInitializers.push(Initializer[type].fromJSON(properties));\n    }\n\n    if (madeInitializers.length === numberOfInitializers) {\n      return resolve(madeInitializers);\n    }\n  });\n  doRequireTextureLoading.forEach(data => {\n    const {\n      type,\n      properties,\n      properties: {\n        texture\n      }\n    } = data;\n    const textureLoader = new THREE.TextureLoader();\n\n    if (!_constants2.SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n      return reject(`The initializer type ${type} is invalid or not yet supported`);\n    }\n\n    textureLoader.load(texture, loadedTexture => {\n      madeInitializers.push(_Texture.default.fromJSON(_objectSpread(_objectSpread({}, properties), {}, {\n        loadedTexture\n      }), THREE));\n\n      if (madeInitializers.length === numberOfInitializers) {\n        return resolve(madeInitializers);\n      }\n    }, undefined, reject);\n  });\n});\n/**\n * Makes behaviours from json items.\n *\n * @param {array<object>} items - An array of objects which provide behaviour constructor params\n * @return {Promise<array>}\n */\n\n\nconst makeBehaviours = items => new Promise((resolve, reject) => {\n  if (!items.length) {\n    return resolve([]);\n  }\n\n  const numberOfBehaviours = items.length;\n  const madeBehaviours = [];\n  items.forEach(data => {\n    const {\n      type,\n      properties\n    } = data;\n\n    if (!_constants2.SUPPORTED_JSON_BEHAVIOUR_TYPES.includes(type)) {\n      return reject(`The behaviour type ${type} is invalid or not yet supported`);\n    }\n\n    madeBehaviours.push(Behaviour[type].fromJSON(properties));\n\n    if (madeBehaviours.length === numberOfBehaviours) {\n      return resolve(madeBehaviours);\n    }\n  });\n});\n\nconst makeEmitters = (emitters, Emitter, THREE, shouldAutoEmit) => new Promise((resolve, reject) => {\n  if (!emitters.length) {\n    return resolve([]);\n  }\n\n  const madeEmitters = [];\n  const numberOfEmitters = emitters.length;\n\n  if (!numberOfEmitters) {\n    return resolve(madeEmitters);\n  }\n\n  emitters.forEach(data => {\n    const emitter = new Emitter();\n    const {\n      rate,\n      rotation,\n      initializers,\n      behaviours,\n      emitterBehaviours = [],\n      position,\n      totalEmitTimes = Infinity,\n      life = Infinity\n    } = data;\n    emitter.setRate(makeRate(rate)).setRotation(rotation).setPosition(position);\n    makeInitializers(initializers, THREE).then(madeInitializers => {\n      emitter.setInitializers(madeInitializers);\n      return makeBehaviours(behaviours);\n    }).then(madeBehaviours => {\n      emitter.setBehaviours(madeBehaviours);\n      return makeBehaviours(emitterBehaviours);\n    }).then(madeEmitterBehaviours => {\n      emitter.setEmitterBehaviours(madeEmitterBehaviours);\n      return Promise.resolve(emitter);\n    }).then(emitter => {\n      madeEmitters.push(shouldAutoEmit ? emitter.emit(totalEmitTimes, life) : emitter.setTotalEmitTimes(totalEmitTimes).setLife(life));\n\n      if (madeEmitters.length === numberOfEmitters) {\n        return resolve(madeEmitters);\n      }\n    }).catch(reject);\n  });\n});\n/**\n * Creates a System instance from a JSON object.\n *\n * @param {object} json - The JSON to create the System instance from\n * @param {number} json.preParticles - The predetermined number of particles\n * @param {string} json.integrationType - The integration algorithm to use\n * @param {array<object>} json.emitters - The emitters for the system instance\n * @param {object} THREE - The Web GL Api to use\n * @param {function} System - The system class\n * @param {function} Emitter - The emitter class\n * @param {object} [options={}] - Optional config options\n * @return {Promise<System>}\n */\n\n\nvar _default = (json, THREE, System, Emitter, options = {}) => new Promise((resolve, reject) => {\n  const {\n    preParticles = _constants.POOL_MAX,\n    integrationType = _constants.EULER,\n    emitters = []\n  } = json;\n  const system = new System(preParticles, integrationType);\n\n  const {\n    shouldAutoEmit\n  } = _objectSpread(_objectSpread({}, DEFAULT_OPTIONS), options);\n\n  makeEmitters(emitters, Emitter, THREE, shouldAutoEmit).then(madeEmitters => {\n    const numberOfEmitters = madeEmitters.length;\n\n    if (!numberOfEmitters) {\n      return resolve(system);\n    }\n\n    madeEmitters.forEach(madeEmitter => {\n      system.addEmitter(madeEmitter);\n\n      if (system.emitters.length === numberOfEmitters) {\n        resolve(system);\n      }\n    });\n  }).catch(reject);\n});\n\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","WeakMap","cache","_interopRequireWildcard","obj","__esModule","default","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireDefault","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","value","Behaviour","Initializer","_constants","_constants2","_Rate","_Texture","DEFAULT_OPTIONS","shouldAutoEmit","makeInitializers","items","THREE","Promise","resolve","reject","numberOfInitializers","madeInitializers","doNotRequireTextureLoading","properties","texture","doRequireTextureLoading","data","type","SUPPORTED_JSON_INITIALIZER_TYPES","includes","INITIALIZER_TYPES_THAT_REQUIRE_THREE","fromJSON","textureLoader","TextureLoader","load","loadedTexture","undefined","makeBehaviours","numberOfBehaviours","madeBehaviours","SUPPORTED_JSON_BEHAVIOUR_TYPES","makeEmitters","emitters","Emitter","madeEmitters","numberOfEmitters","emitter","rate","rotation","initializers","behaviours","emitterBehaviours","position","totalEmitTimes","Infinity","life","setRate","setRotation","setPosition","then","setInitializers","setBehaviours","madeEmitterBehaviours","setEmitterBehaviours","emit","setTotalEmitTimes","setLife","catch","json","System","options","_default","preParticles","POOL_MAX","integrationType","EULER","system","madeEmitter","addEmitter"]
}
