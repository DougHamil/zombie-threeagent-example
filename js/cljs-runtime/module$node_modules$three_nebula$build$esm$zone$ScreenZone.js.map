{
"version":3,
"file":"module$node_modules$three_nebula$build$esm$zone$ScreenZone.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/three-nebula/build/esm/zone/ScreenZone.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three_nebula$build$esm$zone$ScreenZone\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _THREEUtil = _interopRequireDefault(require(\"../utils/THREEUtil\"));\n\nvar _Vector3D = _interopRequireDefault(require(\"../math/Vector3D\"));\n\nvar _Zone = _interopRequireDefault(require(\"./Zone\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ScreenZone extends _Zone.default {\n  /**\n   * ScreenZone is a 3d line zone\n   * @param {Number|Vector3D} x1 - the line's start point of x value or a Vector3D Object\n   * @param {Number|Vector3D} y1 - the line's start point of y value or a Vector3D Object\n   * @param {Number} z1 - the line's start point of z value\n   * @param {Number} x2 - the line's end point of x value\n   * @param {Number} y2 - the line's end point of y value\n   * @param {Number} z2 - the line's end point of z value\n   * @example\n   * var lineZone = new ScreenZone(0,0,0,100,100,0);\n   * or\n   * var lineZone = new ScreenZone(new Vector3D(0,0,0),new Vector3D(100,100,0));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(camera, renderer, dis, dir) {\n    super(_types.ZONE_TYPE_SCREEN);\n    this.camera = camera;\n    this.renderer = renderer;\n    this.dis = dis || 20;\n    dir = dir || '1234';\n\n    for (var i = 1; i < 5; i++) this['d' + i] = dir.indexOf(i + '') >= 0;\n  }\n  /**\n   * Returns true to indicate this is a ScreenZone.\n   *\n   * @return {boolean}\n   */\n\n\n  isScreenZone() {\n    return true;\n  }\n\n  _dead(particle) {\n    var pos = _THREEUtil.default.toScreenPos(particle.position, this.camera, this.renderer.domElement);\n\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis && this.d1) {\n      particle.dead = true;\n    } else if (pos.y - particle.radius > canvas.height + this.dis && this.d3) {\n      particle.dead = true;\n    }\n\n    if (pos.x + particle.radius < -this.dis && this.d4) {\n      particle.dead = true;\n    } else if (pos.x - particle.radius > canvas.width + this.dis && this.d2) {\n      particle.dead = true;\n    }\n  }\n\n  _bound(particle) {\n    var pos = _THREEUtil.default.toScreenPos(particle.position, this.camera, this.renderer.domElement);\n\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis) {\n      particle.velocity.y *= -1;\n    } else if (pos.y - particle.radius > canvas.height + this.dis) {\n      particle.velocity.y *= -1;\n    }\n\n    if (pos.x + particle.radius < -this.dis) {\n      particle.velocity.y *= -1;\n    } else if (pos.x - particle.radius > canvas.width + this.dis) {\n      particle.velocity.y *= -1;\n    }\n  }\n\n}\n\nexports.default = ScreenZone;\n\nScreenZone.prototype.getPosition = function () {\n  var vec2 = new _Vector3D.default(),\n      canvas;\n  return function () {\n    canvas = this.renderer.domElement;\n    vec2.x = Math.random() * canvas.width;\n    vec2.y = Math.random() * canvas.height;\n    this.vector.copy(_THREEUtil.default.toSpacePos(vec2, this.camera, canvas));\n    return this.vector;\n  };\n}();\n\nScreenZone.prototype._cross = function () {\n  var vec2 = new _Vector3D.default();\n  return function (particle) {\n    var pos = _THREEUtil.default.toScreenPos(particle.position, this.camera, this.renderer.domElement);\n\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis) {\n      vec2.x = pos.x;\n      vec2.y = canvas.height + this.dis + particle.radius;\n      particle.position.y = _THREEUtil.default.toSpacePos(vec2, this.camera, canvas).y;\n    } else if (pos.y - particle.radius > canvas.height + this.dis) {\n      vec2.x = pos.x;\n      vec2.y = -this.dis - particle.radius;\n      particle.position.y = _THREEUtil.default.toSpacePos(vec2, this.camera, canvas).y;\n    }\n\n    if (pos.x + particle.radius < -this.dis) {\n      vec2.y = pos.y;\n      vec2.x = canvas.width + this.dis + particle.radius;\n      particle.position.x = _THREEUtil.default.toSpacePos(vec2, this.camera, canvas).x;\n    } else if (pos.x - particle.radius > canvas.width + this.dis) {\n      vec2.y = pos.y;\n      vec2.x = -this.dis - particle.radius;\n      particle.position.x = _THREEUtil.default.toSpacePos(vec2, this.camera, canvas).x;\n    }\n  };\n}();\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_THREEUtil","_Vector3D","_Zone","_types","ScreenZone","constructor","camera","renderer","dis","dir","ZONE_TYPE_SCREEN","i","indexOf","isScreenZone","_dead","particle","pos","toScreenPos","position","domElement","canvas","y","radius","d1","dead","height","d3","x","d4","width","d2","_bound","velocity","prototype","getPosition","vec2","Math","random","vector","copy","toSpacePos","_cross"]
}
