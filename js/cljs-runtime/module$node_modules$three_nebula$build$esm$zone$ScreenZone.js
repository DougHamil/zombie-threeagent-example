shadow$provide.module$node_modules$three_nebula$build$esm$zone$ScreenZone=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _THREEUtil=_interopRequireDefault(require("module$node_modules$three_nebula$build$esm$utils$THREEUtil")),_Vector3D=_interopRequireDefault(require("module$node_modules$three_nebula$build$esm$math$Vector3D"));global=_interopRequireDefault(require("module$node_modules$three_nebula$build$esm$zone$Zone"));
var _types=require("module$node_modules$three_nebula$build$esm$zone$types");class ScreenZone extends global.default{constructor(camera,renderer,dis,dir){super(_types.ZONE_TYPE_SCREEN);this.camera=camera;this.renderer=renderer;this.dis=dis||20;dir=dir||"1234";for(camera=1;5>camera;camera++)this["d"+camera]=0<=dir.indexOf(camera+"")}isScreenZone(){return!0}_dead(particle){var pos=_THREEUtil.default.toScreenPos(particle.position,this.camera,this.renderer.domElement),canvas=this.renderer.domElement;pos.y+
particle.radius<-this.dis&&this.d1?particle.dead=!0:pos.y-particle.radius>canvas.height+this.dis&&this.d3&&(particle.dead=!0);pos.x+particle.radius<-this.dis&&this.d4?particle.dead=!0:pos.x-particle.radius>canvas.width+this.dis&&this.d2&&(particle.dead=!0)}_bound(particle){var pos=_THREEUtil.default.toScreenPos(particle.position,this.camera,this.renderer.domElement),canvas=this.renderer.domElement;pos.y+particle.radius<-this.dis?particle.velocity.y*=-1:pos.y-particle.radius>canvas.height+this.dis&&
(particle.velocity.y*=-1);pos.x+particle.radius<-this.dis?particle.velocity.y*=-1:pos.x-particle.radius>canvas.width+this.dis&&(particle.velocity.y*=-1)}}exports.default=ScreenZone;ScreenZone.prototype.getPosition=function(){var vec2=new _Vector3D.default,canvas;return function(){canvas=this.renderer.domElement;vec2.x=Math.random()*canvas.width;vec2.y=Math.random()*canvas.height;this.vector.copy(_THREEUtil.default.toSpacePos(vec2,this.camera,canvas));return this.vector}}();ScreenZone.prototype._cross=
function(){var vec2=new _Vector3D.default;return function(particle){var pos=_THREEUtil.default.toScreenPos(particle.position,this.camera,this.renderer.domElement),canvas=this.renderer.domElement;pos.y+particle.radius<-this.dis?(vec2.x=pos.x,vec2.y=canvas.height+this.dis+particle.radius,particle.position.y=_THREEUtil.default.toSpacePos(vec2,this.camera,canvas).y):pos.y-particle.radius>canvas.height+this.dis&&(vec2.x=pos.x,vec2.y=-this.dis-particle.radius,particle.position.y=_THREEUtil.default.toSpacePos(vec2,
this.camera,canvas).y);pos.x+particle.radius<-this.dis?(vec2.y=pos.y,vec2.x=canvas.width+this.dis+particle.radius,particle.position.x=_THREEUtil.default.toSpacePos(vec2,this.camera,canvas).x):pos.x-particle.radius>canvas.width+this.dis&&(vec2.y=pos.y,vec2.x=-this.dis-particle.radius,particle.position.x=_THREEUtil.default.toSpacePos(vec2,this.camera,canvas).x)}}()}
//# sourceMappingURL=module$node_modules$three_nebula$build$esm$zone$ScreenZone.js.map
