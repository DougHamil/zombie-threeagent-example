{
"version":3,
"file":"module$node_modules$three_nebula$build$esm$emitter$FollowEmitter.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/three-nebula/build/esm/emitter/FollowEmitter.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three_nebula$build$esm$emitter$FollowEmitter\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Emitter = _interopRequireDefault(require(\"./Emitter\"));\n\nvar _THREEUtil = _interopRequireDefault(require(\"../utils/THREEUtil\"));\n\nvar _Util = _interopRequireDefault(require(\"../utils/Util\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass FollowEmitter extends _Emitter.default {\n  /**\n   * The FollowEmitter class inherits from System.Emitter\n   *\n   * use the FollowEmitter will emit particle when mousemoving\n   *\n   * @class System.FollowEmitter\n   * @constructor\n   * @param {Element} mouseTarget mouseevent's target;\n   * @param {Number} ease the easing of following speed;\n   * @default 0.7\n   * @param {Object} pObj the parameters object;\n   */\n  constructor(mouseTarget, ease, pObj) {\n    super(pObj);\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n\n    this.type = _types.EMITTER_TYPE_FOLLOW;\n    this.mouseTarget = _Util.default.initValue(mouseTarget, window);\n    this.ease = _Util.default.initValue(ease, 0.7);\n    this._allowEmitting = false;\n    this.initEventHandler();\n  }\n\n  initEventHandler() {\n    var self = this;\n\n    this.mousemoveHandler = function (e) {\n      self.mousemove.call(self, e);\n    };\n\n    this.mousedownHandler = function (e) {\n      self.mousedown.call(self, e);\n    };\n\n    this.mouseupHandler = function (e) {\n      self.mouseup.call(self, e);\n    };\n\n    this.mouseTarget.addEventListener('mousemove', this.mousemoveHandler, false);\n  }\n  /**\n   * start emit particle\n   * @method emit\n   */\n\n\n  emit() {\n    this._allowEmitting = true;\n  }\n  /**\n   * stop emiting\n   * @method stopEmit\n   */\n\n\n  stopEmit() {\n    this._allowEmitting = false;\n  }\n\n  setCameraAndCanvas(camera, canvas) {\n    this.camera = camera;\n    this.canvas = canvas;\n  }\n\n  mousemove(e) {\n    if (e.layerX || e.layerX == 0) {\n      this.position.x += (e.layerX - this.position.x) * this.ease;\n      this.position.y += (e.layerY - this.position.y) * this.ease;\n    } else if (e.offsetX || e.offsetX == 0) {\n      this.position.x += (e.offsetX - this.position.x) * this.ease;\n      this.position.y += (e.offsetY - this.position.y) * this.ease;\n    }\n\n    this.position.copy(_THREEUtil.default.toSpacePos(this.position, this.camera, this.canvas));\n    if (this._allowEmitting) super.emit('once');\n  }\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n\n\n  destroy() {\n    super.destroy();\n    this.mouseTarget.removeEventListener('mousemove', this.mousemoveHandler, false);\n  }\n\n}\n\nexports.default = FollowEmitter;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_Emitter","_THREEUtil","_Util","_types","FollowEmitter","constructor","mouseTarget","ease","pObj","type","EMITTER_TYPE_FOLLOW","initValue","window","_allowEmitting","initEventHandler","self","mousemoveHandler","this.mousemoveHandler","e","mousemove","call","mousedownHandler","this.mousedownHandler","mousedown","mouseupHandler","this.mouseupHandler","mouseup","addEventListener","emit","stopEmit","setCameraAndCanvas","camera","canvas","layerX","position","x","y","layerY","offsetX","offsetY","copy","toSpacePos","destroy","removeEventListener"]
}
